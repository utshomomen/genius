function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){for(var t=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];if(e.requestAnimationFrame||(e.requestAnimationFrame=function(n,r){var o=(new Date).getTime(),a=Math.max(0,16-(o-t)),i=e.setTimeout(function(){n(o+a)},a);return t=o+a,i}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var r,o=parseInt(arguments[1],10)||0;for(o>=0?r=o:(r=n+o)<0&&(r=0);r<n;){var a=t[r];if(e===a||e!=e&&a!=a)return!0;r++}return!1}),Object.values||Object.defineProperty(Object,"values",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return"string"==typeof e?e.split(""):Array.isArray(e)?e:"object"!==_typeof(e)?[]:Object.keys(e).map(function(t){return e[t]})}}),"function"!=typeof e.CustomEvent){var o=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};o.prototype=e.Event.prototype,e.CustomEvent=o}e.svg4everybody=function(){function t(e,t){if(t){var n=document.createDocumentFragment(),r=t.getAttribute("viewBox");e.setAttribute("viewBox",r);for(var o=t.cloneNode(!0);o.childNodes.length;)n.appendChild(o.firstChild);e.appendChild(n)}}function n(e){e.onreadystatechange=function(){if(4===e.readyState){var n=e._cachedDocument;n||(n=e._cachedDocument=document.implementation.createHTMLDocument(""),n.body.innerHTML=e.responseText,e._cachedTarget={}),e._embeds.splice(0).map(function(r){var o=e._cachedTarget[r.id];o||(o=e._cachedTarget[r.id]=n.getElementById(r.id)),t(r.svg,o)})}},e.onreadystatechange()}return function(r){function o(){for(var e=0;e<m.length;){var r=m[e],s=r.parentNode;if(s&&/svg/i.test(s.nodeName)){var l=r.getAttribute("xlink:href");if(a&&(!i.validate||i.validate(l,s,r))){s.removeChild(r);var d=l.split("#"),f=d.shift(),b=d.join("#");if(f.length){var p=c[f];p||((p=c[f]=new XMLHttpRequest).open("GET",f),p.send(),p._embeds=[]),p._embeds.push({svg:s,id:b}),n(p)}else t(s,document.getElementById(b))}}else++e}u(o,67)}var a,i=Object(r);a="polyfill"in i?i.polyfill:/\bTrident\/[5-7]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||/\bEdge\/(\d+)\.(\d+)\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bAp{2}leWebKit\/(\d+)\b/)||[])[1]<537;var c={},u=e.requestAnimationFrame||setTimeout,m=document.getElementsByTagName("use");a&&o()}}()}(window);
!function(e){function o(e){e.preventDefault()}e.videoImgFallback=function(e){console.warn("video load error, gif fallback used");var o=e.querySelector("img");o&&e.parentNode.replaceChild(o,e)},e.getCookie=function(e){var o=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([$()*+./?[\\\]^{|}])/g,"\\$1")+"=([^;]*)"));return o?decodeURIComponent(o[1]):void 0},e.setCookie=function(e,o,n){void 0===n&&(n={});var i=n.expires;if("number"==typeof i&&i){var t=new Date;t.setTime(t.getTime()+1e3*i),i=n.expires=t}i&&i.toUTCString&&(n.expires=i.toUTCString());var r=e+"="+(o=encodeURIComponent(o));for(var c in n){r+="; "+c;var d=n[c];!0!==d&&(r+="="+d)}document.cookie=r},e.deleteCookie=function(e){setCookie(e,"",{expires:-1})},e.getJsonFromUrl=function(e){var o;if(e){var n=location.href.indexOf("?");if(-1===n)return[];o=location.href.substr(n+1)}else o=location.search.substr(1);var i={};return o.split("&").forEach(function(e){if(e){var o=(e=e.split("+").join(" ")).indexOf("="),n=o>-1?e.substr(0,o):e,t=o>-1?decodeURIComponent(e.substr(o+1)):"",r=n.indexOf("[");if(-1===r)i[decodeURIComponent(n)]=t;else{var c=n.indexOf("]",r),d=decodeURIComponent(n.substring(r+1,c));n=decodeURIComponent(n.substring(0,r)),i[n]||(i[n]=[]),d?i[n][d]=t:i[n].push(t)}}}),i},e.chunkSplit=function(e,o,n){return void 0===o&&(o=3),void 0===n&&(n=" "),(e+="").split("").reverse().join("").match(new RegExp(".{0,"+o+"}","g")).join(n).split("").reverse().join("").trim()},e.preventBodyScrolling=function(e){void 0===e&&(e=!1),document.body[!0===e?"addEventListener":"removeEventListener"]("touchmove",o,!1)}}(window);
void 0===window.flexbe_cli&&(window.flexbe_cli={}),window.spaced_cli=window.flexbe_cli,flexbe_cli._init=function(){function e(){if(!flexbe_cli.isInited)if("undefined"!=typeof jQuery){flexbe_cli.init(),flexbe_cli.isInited=!0;var i=["ready"];i.push(flexbe_cli.run.is_touch?"is-touch":"is-pointer"),i.push(flexbe_cli.is_admin?"is-editor":"is-view");try{var l;(l=document.body.classList).add.apply(l,i)}catch(e){document.body.className+=" "+i.join(" ")}flexbe_cli.run.is_screenshoter||(window.onpopstate=function(){flexbe_cli.modal.popstate()}),svg4everybody({polyfill:!flexbe_cli.is_admin&&(flexbe_cli.run.is_ie||flexbe_cli.run.is_EDGE)})}else setTimeout(e,10)}["complete","loaded"].includes(document.readyState)?e():document.addEventListener("DOMContentLoaded",function(){e()}),window.addEventListener("load",function(){e(),flexbe_cli.isLoaded=!0})};
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}flexbe_cli.events={init:function(){$.observable=function(t){var n={_JQInit:function(){this._JQ=$(this)},emit:function(t,n){return!this._JQ&&this._JQInit(),this._JQ.trigger(t,n),this},once:function(t,n){return!this._JQ&&this._JQInit(),this._JQ.one(t,n),this},on:function(t,n){return!this._JQ&&this._JQInit(),this._JQ.bind(t,n),this},off:function(t,n){return!this._JQ&&this._JQInit(),this._JQ.unbind(t,n),this}};return"object"!==_typeof(t)&&(t=this),Object.keys(n).forEach(function(i){t[i]=n[i].bind(t)}),n},$.observable(this)}};
flexbe_cli.run={init:function(){this.deviceInfo()},deviceInfo:function(){var i=navigator.userAgent.toLowerCase();this.is_screen_tablet=window.innerWidth>=768&&window.innerWidth<=1024,this.is_screen_tablet_s=window.innerWidth>=570&&window.innerWidth<768,this.is_screen_mobile=window.innerWidth<570,this.is_screen_mobile_s=window.innerWidth<350,this.is_screen_all_mobile=this.is_screen_tablet_s||this.is_screen_mobile,this.is_screen_small_pc=window.innerWidth>1024&&window.innerWidth<1200,this.is_screen_pc=window.innerWidth>=1200,this.is_touch="ontouchstart"in window,this.is_pointer=!this.is_touch,this.is_bot=/bot|aolbuild|bingpreview|msnbot|baidu|duckduckgo|mediapartners-google|teoma|slurp/gi.test(i),this.is_mobile=-1!==i.indexOf("mobile")||this.is_screen_mobile||this.is_screen_tablet_s,this.is_desktop=!this.is_mobile,this.is_webkit=-1!==i.indexOf("webkit"),this.is_safari=-1!==i.indexOf("safari")&&i.match(/version\/(\d+)/),this.is_firefox=-1!==i.indexOf("firefox"),this.is_mobile_ie=-1!==i.indexOf("iemobile"),this.is_ie=-1!==i.indexOf("trident")||-1!==i.indexOf("msie"),this.is_EDGE=-1!==i.indexOf("edge"),this.is_OSX=/iPad|iPhone|iPod|Macintosh/gi.test(i),this.is_android=-1!==i.indexOf("android"),this.is_ios=this.is_touch&&this.is_mobile&&this.is_OSX,this.is_screenshoter=i.indexOf("slimerjs")>-1||i.indexOf("phantomjs")>-1,this.is_screen_mobile?this.device_type="mobile":this.is_screen_tablet_s||this.is_screen_tablet?this.device_type="tablet":this.device_type="desktop"}};
flexbe_cli.lib={init:function(){this.lg.init()},lg:{init:function(){var t=this;if(!flexbe_cli.is_admin&&99!=flexbe_cli.theme_id){$(".lg-container").filter(function(t,e){return!$(e).parents(".lg-container").length}).on("mouseover.initLightGallery",function(e){var i=$(e.currentTarget);i.off(".initLightGallery"),t.wrap(i)}),$(window).one("load.flexbe_lg",function(){t.loaded||t.require()}),$(document).on("click.beforeLoadedLg","[data-lg]",function(t){t.preventDefault()}),$(document).on("click.lgDouble",".swiper-slide-duplicate [data-lg]",function(t){var e=$(t.currentTarget),i=e.closest(".swiper-slide-duplicate");if(i.length){var l=i.attr("data-swiper-slide-index"),n=i.siblings('[data-swiper-slide-index="'+l+'"]').find("[data-lg]");if(n.length>1){var a=e.attr("data-img-id");n=n.filter(function(t,e){return $(e).attr("data-img-id")==a})}return n.trigger("click"),t.preventDefault(),!1}})}},require:function(t){var e=this;$("[data-lg]").length&&flexbe_cli.require(["/_s/lib/jquery/lightGallery/css/lightgallery.css","/_s/lib/jquery/lightGallery/js/lg-spaced-bundle.min.js"],function(){e.loaded||(e.loaded=!0,$(document).off("click.beforeLoadedLg")),"function"==typeof t&&t()})},wrap:function(t){function e(){history.state&&history.state.lg&&history.replaceState(null,null,"#")}var i=!1,l="1"===t.find(".component-slider").attr("data-loop"),n=!t.attr("data-lg-single");this.require(function(){t.lightGallery({selector:"[data-lg]:not(.swiper-slide-duplicate [data-lg])",counter:!0,download:!1,slideEndAnimation:!1,getCaptionFromTitleOrAlt:!0,closable:!0,loop:l,easing:"ease-out",hideBarsDelay:6e3,zoomIcons:!1,actualSize:!1,enableSlide:n}),t.on("onBeforeOpen.lg",function(){i=!0,e(),history.state&&history.state.lg||history.pushState({lg:!0},null,"#image")}),t.on("onBeforeClose.lg",function(){history.state&&history.state.lg&&(i=!1,history.back()),e()}),e(),window.addEventListener("popstate",function(){!i||history.state&&history.state.lg||t.each(function(t,e){var i=$(e).data("lightGallery");i&&i.destroy()})})})}}};
!function(){var e=[];flexbe_cli.require=function(i,t,n,o){if(void 0===i&&(i=""),void 0===t&&(t=function(){}),void 0===n&&(n=15e3),void 0===o&&(o=!1),i&&0!==i.length||t(!1),!o){"string"==typeof i&&(i=[i]);var r=0,c=function(n){var o=i.every(function(i){return"boolean"==typeof e[i]});r+=1,o&&r===i.length&&t(n)};return Array.isArray(i)&&i.forEach(function(e){flexbe_cli.require(e,c,n,!0)}),!1}if(!0===e[i])t(!0);else if(Array.isArray(e[i]))e[i].push(t);else{var d,s=!1,u=function(t){if(void 0===t&&(t=!0),!s){s=!0,clearTimeout(d);var n=e[i];e[i]=t,n.forEach(function(e){"function"==typeof e&&e(t)})}};if(e[i]=[t],/\.css$/.test(i)){var a=document.createElement("link");a.onerror=u.bind(this,!1),a.onload=u.bind(this,!0),d=setTimeout(u.bind(this,"timeout"),n),a.rel="stylesheet",a.href=i,document.body.appendChild(a)}else{var f=document.createElement("script");f.onload=u.bind(this,!0),f.onerror=u.bind(this,!1),d=setTimeout(u.bind(this,"timeout"),n),f.async=!0,f.src=i,document.body.appendChild(f)}}}}();
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}flexbe_cli.stat={u_id:0,time:0,goals:{quiz:"quiz_start",modal:"modal_open",modal_form:"form_open",modal_product:"product_show",modal_done:"order_done",cart:"add_to_cart",link:"link_open",file:"file_load",close:"modal_close"},init:function(){var e=getCookie("user_id");if(flexbe_cli.is_admin||flexbe_cli.run.is_bot||flexbe_cli.run.is_screenshoter||!flexbe_cli.p_id||e)return!1;var t=getCookie("f_uid");t?(this.u_id=t,this.user_visit()):this.user_create(),this.AB.init(),this.ecommerce.init()},getGoal:function(e,t){return"modal"===e&&(/form/.test(t)&&(e="modal_form"),/done/.test(t)?e="modal_done":/product/.test(t)?e="modal_product":/quiz/.test(t)&&(e="quiz")),this.goals[e]||!1},reach_goal:function(e,t){if(t=void 0!==t?t:{},!flexbe_cli.is_admin)try{if(flexbe_cli.yandex_id)var i=setInterval(function(){if("undefined"==typeof Ya||"object"!==_typeof(Ya._metrika.counter))return!1;clearInterval(i),Ya._metrika.counter.reachGoal(e,t)},50);"function"==typeof ga&&ga("send","event",e,"send")}catch(e){}},ecommerce:{currencyCodes:{"€":{code:"EUR",name:"Евро"},Br:{code:"BYR",name:"Белорусский Рубль"},"₴":{code:"UAH",name:"Гривна"},"грн.":{code:"UAH",name:"Гривна"},"₸":{code:"KZT",name:"Тенге"},"тңг":{code:"KZT",name:"Тенге"}},currencyCode:"RUB",initialized:!1,init:function(){flexbe_cli.lang.currency&&this.currencyCodes[flexbe_cli.lang.currency]&&(this.currencyCode=this.currencyCodes[flexbe_cli.lang.currency].code),this.initialized=!0,window.dataLayer||(window.dataLayer=[])},add:function(e,t,i,o){if(this.initialized){window.dataLayer.push({ecommerce:{currencyCode:this.currencyCode,add:{products:[{id:e,name:t,price:o,quantity:i}]}}})}},remove:function(e,t){if(this.initialized){window.dataLayer.push({ecommerce:{currencyCode:this.currencyCode,remove:{products:[{id:e,name:t}]}}})}},purchase:function(e,t){if(void 0===t&&(t=!1),this.initialized&&(e||0!=e.length)){t||(t=Math.ceil(1e4*Math.random()));try{window.dataLayer.push({ecommerce:{currencyCode:this.currencyCode,purchase:{actionField:{id:t},products:e.map(function(e){return{id:e.id,name:e.title,price:e.price,quantity:e.count}})}}})}catch(e){}}}},get_utm:function(){var e=function(e){if(""===e)return{};for(var t={},i=0;i<e.length;++i){var o=e[i].split("=");2==o.length&&(t[o[0]]=decodeURIComponent(o[1].replace(/\+/g," ")))}return t}(window.location.search.substr(1).split("&")),t={};return $.each(e,function(e,i){"utm_"===e.substring(0,4)&&(t[e]=i)}),document.referrer&&(t.url=document.referrer),t},user_create:function(){var e=this;$.ajax({url:"/mod/stat/",type:"POST",dataType:"json",data:{s_id:flexbe_cli.s_id,group_id:flexbe_cli.group_id,p_id:flexbe_cli.p_id,utm_data:this.get_utm(),device:{type:flexbe_cli.run.device_type,width:window.innerWidth,browser:navigator.userAgent}}}).done(function(t){"object"==_typeof(t)&&null!==t&&t.u_id?(setCookie("f_uid",t.u_id,{Path:"/"}),e.u_id=t.u_id):console.warn("cookie не установлена",t)})},user_visit:function(){$.ajax({url:"/mod/stat/visit/",type:"POST",dataType:"json",data:{s_id:flexbe_cli.s_id,group_id:flexbe_cli.group_id,p_id:flexbe_cli.p_id,u_id:this.u_id}}).done($.proxy(function(e){e.v_id||console.warn("cookie визита не установлена",e)},this))},AB:{init:function(){var e=this;flexbe_cli.events.off("entity_event.abstat").on("entity_event.abstat",function(t,i){if(i&&"screen"===i.type&&i.state&&i.core&&"block"===i.core.is){var o=i.core.$area;e.fixview(o.attr("data-abtest-id"),o.attr("data-abtest-variant"))}})},setcookie:function(e){setCookie("f_ab",JSON.stringify(e),{expires:604800,path:"/",domain:document.location.hostname})},getcookie:function(){var e=!0,t=getCookie("f_ab");if(t)try{t=JSON.parse(decodeURIComponent(t)),e=!1}catch(t){console.warn("cant parse abtest cookie",t),e=!0}return e&&(t={view:{},lead:[]}),t},proccess:{},fixview:function(e,t){if(void 0===e||void 0===t||"a"!=t&&"b"!=t)return!1;void 0!==this.getcookie().view[e]||this.proccess[e]||(this.proccess[e]=!0,$.ajax({url:"/mod/stat/abtest",type:"POST",dataType:"json",data:{test_id:e,variant:t,s_id:flexbe_cli.s_id,p_id:flexbe_cli.p_id}}).done($.proxy(function(i){if(this.proccess[e]=!1,1==i.status){var o=flexbe_cli.stat.AB.getcookie();o.view[e]=t,flexbe_cli.stat.AB.setcookie(o)}},this)))},fixlead:function(e){if(flexbe_cli.bill&&1!=flexbe_cli.bill.abtest)return!1;if(e.length>0){var t=this.getcookie(),i=$.merge(t.lead,e);t.lead=$.grep(i,function(e,t){return $.inArray(e,i)===t}),this.setcookie(t)}}}};
function _extends(){return(_extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}flexbe_cli.lang=_extends({language:"en",country:"US",currency_code:"USD",currency:"$",locale:{},init:function(n){var t=this;void 0===n&&(n="body"),$("[data-lang]",n).each(function(n,e){var r=$(e).attr("data-lang"),a=$(e).attr("data-lang-content"),c=String(t.get(r));$(e).html(c.replace(/%s/,a))})},get:function(n){if(n){if("currency"===n)return this.currency;return String(n).split(".").reduce(function(n,t){return n&&n[t]},this.locale)||""}}},flexbe_cli.lang);
flexbe_cli.resize={width:window.innerWidth,height:window.innerHeight,oldWidth:window.innerWidth,oldHeight:window.innerHeight,init:function(){this.simulateWindowResized(),this.simulateDocumentResize()},simulateWindowResized:function(){var i,e=this,t=this.oldWidth,n=this.oldHeight;$(window).on("resize orientationchange",function(){e.width=window.innerWidth,e.height=window.innerHeight,clearTimeout(i),i=setTimeout(function(){e.oldWidth=t,e.oldHeight=n,t=e.width,n=e.height,flexbe_cli.run.deviceInfo(),$(window).trigger("resized")},80)})},simulateDocumentResize:function(){var i=this;this.documentHeight=document.body.scrollHeight;var e=flexbe_cli.is_admin?500:150;setInterval(function(){!function(){if(!flexbe_cli.scroll.inScroll){var e=document.body.scrollHeight;Math.abs(e-i.documentHeight)>3&&(i.documentHeight=e,$(window).trigger("documentresize"))}}()},e)}};
flexbe_cli.scroll={inScroll:!1,latest:window.pageYOffset,init:function(){var e=this;this.latest=window.pageYOffset,document.addEventListener("scroll",function(){e.latest=window.pageYOffset,e.inScroll=!0},{passive:!0}),document.addEventListener("scrollend",function(){e.inScroll=!1},{passive:!0}),this.scrollImprovement.init()},scrollImprovement:{scrollTimer:0,pointerState:!1,init:function(){this.createStopScrollEvent(),this.pointerEvents()},createStopScrollEvent:function(){var e=this,t=flexbe_cli.scroll.latest;document.addEventListener("scroll",function(){var n=t>flexbe_cli.scroll.latest?"up":"down";clearTimeout(e.scrollTimer),e.scrollTimer=setTimeout(function(){t=flexbe_cli.scroll.latest,document.dispatchEvent(new CustomEvent("scrollend",{detail:{direction:n}}))},200)},{passive:!0})},pointerEvents:function(){var e=this;flexbe_cli.is_admin||(document.addEventListener("scroll",function(){e.pointerState||(e.pointerState=!0,document.body.classList.add("disable-pointer-events"))},{passive:!0}),document.addEventListener("scrollend",function(){e.pointerState&&(e.pointerState=!1,document.body.classList.remove("disable-pointer-events"))}))}}};
flexbe_cli.header={$floating:!1,offset:0,init:function(){var e=this;flexbe_cli.is_admin||(this.floatingHeader(),$(window).off("resized.floatingHeader").on("resized.floatingHeader",function(){e.floatingHeader(!0)}))},floatingHeader:function(){var e=flexbe_cli.adaptive&&flexbe_cli.run.is_screen_all_mobile;if(flexbe_cli.is_admin||e)return!1;var t=$(".header-wrapper.floating-header");if(!t.length)return!1;t.removeClass("fixed-header"),t.find("[data-contrast]").removeAttr("data-contrast"),t.parent().css("min-height","");var a,i,r=t.eq(0),n=r.parent(),s=r.closest(".b_block"),f=r.find(".content-zone"),o=r.attr("data-fixed-contrast")||"inherit",d=!1,l=!1;!function t(){var c=this;requestAnimationFrame(t);var h=s[0]._core;if(!flexbe_cli.scroll.lock&&h){var m=h.tween.start+Math.min(h.tween.height,150)+150,u=flexbe_cli.scroll.latest>m,g=d&&flexbe_cli.scroll.latest<=Math.min(m,h.tween.end);if(l!==u){if(l=u,clearTimeout(a),clearTimeout(i),g)return d=!1,this.offset=0,f.removeAttr("data-contrast"),r.removeClass("fixed-header fade-in fade-out"),void n.css("min-height","");if(u){var v=e?0:300;i=setTimeout(function(){d=!0,c.offset=r[0].offsetHeight,n.css("min-height",c.offset+"px"),r.addClass("fade-in"),r.addClass("fixed-header"),f.attr("data-contrast",o),r.trigger("transform-header"),a=setTimeout(function(){r.removeClass("fade-in fade-out"),d=!1},300)},v)}else d=!0,this.offset=0,r.addClass("fade-out"),a=setTimeout(function(){r.removeClass("fixed-header fade-in fade-out"),r.trigger("transform-header"),f.removeAttr("data-contrast"),n.css("min-height",""),d=!1},200)}}}()}};
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e={};flexbe_cli.block={hasOverlay:[],$list:!1,get $blocks(){return this.$list&&this.$list.find(".b_block")},init:function(){var e=this;this.$list=$(" header, .container-list, footer"),this.$blocks.toArray().forEach(function(i){var t=e.bind(i);t&&!t.inited&&t.init({})}),this.dispathEvents()},dispathEvents:function(){var e=this;$(window).on("documentresize.flexbe_block",function(){e.checkSizes()}),$(window).on("resized.flexbe_block orientationchange.flexbe_block",function(){e.checkSizes();var i=flexbe_cli.run.is_mobile?140:10;Math.abs(flexbe_cli.resize.height-flexbe_cli.resize.oldHeight)>i&&e.fixCoverHeight()}),$(window).on("load.flexbe_block",function(){if(/^#/.test(location.hash)){var i=String(location.hash).replace(/^#{1,2}/,""),t=e.$list.find(".b_"+i+', .b_block ._anchor[name="'+i+'"]').eq(0);t&&e.scrollTo(t.closest(".b_block"))}}),flexbe_cli.is_admin&&(flexbe_cli.events.on("block_render.flexbe_block block_change.flexbe_block",function(i,t){if(t&&t.id&&(/render/.test(i.type)||t.name&&!t.templateRendered&&!t.styleRendered)){var n=$('[data-id="'+t.id+'"]',e.$list)[0],o=e.bind(n);o&&o.init(t)}}),flexbe_cli.events.on("block_resize",function(i,t){if(t&&t.id){var n=document.querySelector('[data-id="'+t.id+'"]'),o=e.bind(n);o&&o._onResize(t)}}),flexbe_cli.events.on("client_msg.flexbe_block",function(i,t){if(t&&t.id&&"block"===t.is){var n=$('[data-id="'+t.id+'"]',e.$list)[0],o=e.bind(n);o&&o._onMsg(t.msg,t.data)}}),flexbe_cli.events.off("layout_change.flexbe_block").on("layout_change.flexbe_block",$.debounce(function(i,t){t&&"block"!==!t.is&&(e.updateTweens(),e.fixCoverHeight())},100)))},pushOverlay:function(e,i){return i&&this.hasOverlay.includes(e)&&this.hasOverlay.splice(this.hasOverlay.indexOf(e)),this.hasOverlay.push(e),!0},removeOverlay:function(e){return this.hasOverlay.includes(e)&&this.hasOverlay.splice(this.hasOverlay.indexOf(e)),!0},updateTweens:function(){this.$blocks.each(function(e,i){i._core&&i._core._tween()})},checkSizes:function(){var e=this;this.$blocks.toArray().forEach(function(i){var t=e.bind(i);t&&t._onResize({})})},scrollTo:function(e,i,t){void 0===i&&(i=!0),void 0===t&&(t=!1);if(e=("object"!==_typeof(e)?$('.b_block[data-id="'+e+'"]',this.$list).eq(0):$(e))[0]){var n,o=e,l=o.offsetTop,c=o.offsetHeight,r=flexbe_cli.resize.height-c;i&&c<flexbe_cli.resize.height?(n=l-r/2,r<180&&flexbe_cli.run.is_screen_pc&&$('[data-b-type*="header"][data-b-type*="floating"]').length&&(n-=80)):n=t&&c>flexbe_cli.resize.height?l+(c-flexbe_cli.resize.height)/2:l,$("body, html").animate({scrollTop:n})}},fixCoverHeight:function(e){void 0===e&&(e=this.$list.find(".b_block")),e.length&&e.each(function(e,i){var t=$(i),n=t.find(".cover");if(n.length){var o=0,l=flexbe_cli.resize.height;if([2,3].includes(flexbe_cli.theme_id)){var c,r=t.prevAll(".b_block");c=(c=flexbe_cli.is_admin&&t.is('[data-abtest-variant="b"]')?r.eq(1):r.eq(0)).filter('[data-b-type*="header"]').not('[data-b-type*="overflow"]'),o=Math.max(0,c.outerHeight()||0)}var s=l-o;n.css("min-height",s+"px"),flexbe_cli.run.is_ie&&s>=n.outerHeight()&&n.css("height","1px")}})},bind:function(i){if(!i)return!1;var t=i.getAttribute("data-b-id"),n=i._core;if(t&&!n){var o=e[t]||{};n=new BlockCore(i,o),i._core=n}return n},register:function(i,t){void 0===t&&(t={}),i||console.warn("Element register error: Element must have templateId"),e[i]=t}}}();
!function(){var e={};flexbe_cli.modal={opened:{},init:function(){var e=this;this.list=document.querySelector(".modal-list"),this.$list=$(this.list),this.$list.find(".m_modal").toArray().forEach(function(t){var i=e.bind(t,{},"init");i&&!i.inited&&i.init({})});var t=getJsonFromUrl();if(t.service&&t.m_id)return this.$list.addClass("noanimate"),this.open(t.m_id),!1;this.popstate(),this.dispathEvents()},dispathEvents:function(){var e=this;flexbe_cli.events.on("modal_render.flexbe_modal modal_change.flexbe_modal",function(t,i){if(i&&i.id&&(/render/.test(t.type)||i.name&&!i.templateRendered&&!i.styleRendered)){var o=(e.find(i.id)||{}).modal,a=e.bind(o);a&&a.init(i)}}),flexbe_cli.events.on("client_msg.flexbe_modal",function(t,i){if(i&&i.id&&"modal"===i.is){var o=(e.find(i.id)||{}).modal,a=e.bind(o);a&&a._onMsg(i.msg,i.data)}}),flexbe_cli.events.on("modal_command.flexbe_modal",function(t,i){if(i)switch(i.command){case"open":e.open(i.id,i.data);break;case"close":e.close(i.id)}}),$("body").on("click.modal-close",".m_modal .close",function(t){t.preventDefault(),t.stopPropagation();var i=$(t.currentTarget).closest(".m_modal").data("id");e.close(i)}),flexbe_cli.is_admin||$("body").off("click.modal-close-overlay").on("click.modal-close-overlay",".modal-data",function(t){if(!flexbe_cli.run.is_mobile&&Object.keys(e.opened).length&&($(t.target).is(".modal-data")||$(t.target).is('[data-overlay="true"]'))){var i=$(".m_modal.show").eq(0).attr("data-id");e.close(i)}}),flexbe_cli.is_admin||$(window).off("keyup.modal-close-esc").on("keyup.modal-close-esc",function(t){if(27!==t.keyCode)return!0;var i=$(".m_modal.show").eq(0).attr("data-id");e.close(i)})},popstate:function(){var e=this;if(flexbe_cli.is_admin||flexbe_cli.lockPopstate)return!1;setTimeout(function(){if(/^#{1,2}/.test(location.hash)&&location.hash.replace(/^#{1,2}/,"")){var t=location.hash.replace(/^#{1,2}/,""),i=e.$list.find('._anchor[name="'+t+'"], .m_modal[data-id="'+t+'"]').closest(".m_modal").attr("data-id");e.opened[i]||e.open(i)}else e.close()},50)},find:function(e){var t=this.$list.find('[data-id="'+e+'"]').toArray(),i=t[0]||!1;return!!i&&{modals:t,modal:i}},open:function(e,t,i){if(void 0===t&&(t={}),void 0===i&&(i={}),!e)return!1;var o=this.find(e)||{},a=o.modals,n=o.modal,l=$(a);if(!n)return!1;if(l.length>1){var d=i.multivar;if(!d){var r=String(e).split("_")[0];d=$('[data-id="'+r+'"]').attr("data-multivar")}var s=[];d&&"default"!==d&&(s=l.filter('[data-multivar="'+d+'"]').eq(0)),n=(l=s.length?s.eq(0):l.eq(0))[0]}var c=this.bind(n);return n&&!c?(console.warn("Try to open modal without core object,","id: "+e+",","modal: ",n),!1):(this.close(null,e),c.open(t,i),this.opened[e]=c,!0)},close:function(e,t){var i=this;if(!e)return Object.keys(this.opened).map(function(e){if(i.opened[e]&&e!=t)return i.close(e,t)});if(!this.opened[e])return!1;delete this.opened[e];var o=(this.find(e)||{}).modal,a=this.bind(o);return o?a?(a.close({from:t}),!0):(console.warn("Try to close modal without core object"),!1):void 0},bind:function(t){if(!t)return!1;var i=t.getAttribute("data-m-id"),o=t._core;if(i&&!o){var a=e[i]||{};o=new ModalCore(t,a),t._core=o}return o},register:function(t,i){void 0===i&&(i={}),t||console.warn("Element register error: Element must have templateId"),e[t]=i}}}();
!function(){var e={};flexbe_cli.widget={init:function(){var e=this;this.$list=$(".widget-list"),this.list=this.$list.get(0),this.$list.find(".w_widget").toArray().forEach(function(t){var i=e.bind(t,{},"init");i&&!i.inited&&i.init({})}),this.dispathEvents()},dispathEvents:function(){var e=this;flexbe_cli.events.on("widget_render.flexbe_widget widget_change.flexbe_widget",function(t,i){if(i&&i.id&&(/render/.test(t.type)||i.name&&!i.templateRendered&&!i.styleRendered)){var n=$('[data-id="'+i.id+'"]',e.$list)[0],d=e.bind(n);d&&d.init(i)}}),flexbe_cli.events.on("client_msg.flexbe_widget",function(t,i){if(i&&i.id&&"widget"===i.is){var n=e.list.querySelector('[data-id="'+i.id+'"]'),d=e.bind(n);d&&d._onMsg(i.msg,i.data)}})},bind:function(t){if(!t)return!1;var i=t.getAttribute("data-w-id"),n=t._core;if(!n){var d=e[i]||{};n=new WidgetCore(t,d),t._core=n}return n},register:function(t,i){void 0===i&&(i={}),t||console.warn("Element register error: Element must have templateId"),e[t]=i}}}();
!function(){var e={},t=".content-zone",n=".element-item";flexbe_cli.element={get $zones(){return $(t)},get $elements(){return $(n)},init:function(e){var i=this;if(4!==flexbe_cli.theme_id)return!1;var r,d,a=function(e){var t=i.bind(e);t&&!t.inited&&t.init({})};if(e){var l=$(e);r=l.find(t).addBack(t),d=l.find(n).addBack(n)}else r=this.$zones,d=this.$elements;r.toArray().forEach(a),d.toArray().forEach(a),this.dispathEvents()},dispathEvents:function(){var e=this;flexbe_cli.is_admin&&(flexbe_cli.events.on("element_render.flexbe_element element_change.flexbe_element",function(t,n){if(n&&n.id&&(/render/.test(t.type)||n.name&&!n.templateRendered&&!n.styleRendered)){var i=document.querySelector('[data-id="'+n.id+'"]'),r=e.bind(i);r&&r.init(n)}}),flexbe_cli.events.on("element_resize",function(t,n){if(n&&n.id){var i=document.querySelector('[data-id="'+n.id+'"]'),r=e.bind(i);r&&r._onResize(n)}}),flexbe_cli.events.on("client_msg.flexbe_element",function(t,n){if(n&&n.id&&"element"===n.is){var i=document.querySelector('[data-id="'+n.id+'"]'),r=e.bind(i);r&&r._onMsg(n.msg,n.data)}}))},bind:function(t){if(!t)return!1;var n=t.getAttribute("data-e-id"),i=t._core;if(!i){var r=e[n]||{};i=new ElementCore(t,r),t._core=i}return i},register:function(t,n){void 0===n&&(n={}),t||console.warn("Element register error: Element must have templateId"),e[t]=n}}}();
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var EntityCore=function(){function t(t,e){var i=this;void 0===e&&(e={});var n=$(t),s=n.attr("data-is"),o=n.attr("data-id"),r=n.attr("data-mod-id")||0,a="zone"===s?"e":s[0],h=n.attr("data-"+a+"-id"),c=n.data(a+"Type")||[],f=n.data("components")||!0;this.require=[],this.$area=n,this.area=n[0],this.$container=this.$area,this.container=this.area,this.$root=n,this.root=n[0],this.is=s,this.id=o,this.template_id=h,this.mod_id=r,this.type=c,this.components=f,this.tween={},this.isVisible=!1,this.isBeside=!1,this.isView=!1,this.isFocused=!1,Object.keys(e).forEach(function(t){var n=e[t];"object"===_typeof(n)?i[t]=$.extend(!0,Array.isArray(n)?[]:{},n):i[t]=n})}var e=t.prototype;return e.onInit=function(){},e.onUpdate=function(){},e.onLoad=function(){},e.onReady=function(){},e.onBeside=function(){},e.onFocus=function(){},e.onScreen=function(){},e.onView=function(){},e.onMsg=function(){},e.onResize=function(){},e.getNested=function(){if(4!==flexbe_cli.theme_id)return[];if(this._nestedElementsCache)return this._nestedElementsCache;var t=$(".content-zone, .element-item",this.area).toArray().map(function(t){return flexbe_cli.element.bind(t).core||!1}).filter(function(t){return t});return flexbe_cli.is_admin||(this._nestedElementsCache=t),t},e.init=function(t){var e=this,i=this.inited?"update":"init";"init"===i?this._onInit(t):"update"===i&&this._onUpdate(t),("init"===i||t.templateRendered)&&flexbe_cli.require(this.require,function(){e._onLoad(t)})},e._onInit=function(t){this.inited=!0,this._tween(),this.onInit(t),flexbe_cli.events.emit("entity_event",{type:"inited",core:this,params:t})},e._onLoad=function(t){this.loaded=!0,this.onLoad(t),this.onReady(t),this._tween({force:!0})},e._onUpdate=function(t){this.updated=!0,(t.templateRendered||t.styleRendered)&&this._tween(),this.onUpdate(t),flexbe_cli.events.emit("entity_event",{type:"updated",core:this,params:t})},e._onResize=function(t){(this._tween()||t.force)&&(this.onResize(t),flexbe_cli.events.emit("entity_event",{type:"resize",core:this,params:t}),this.$area.trigger("onResize",{}))},e._onMsg=function(t,e){this.onMsg(t,e)},e._onFocus=function(t){var e=t.state;if(this.isFocused!==e){this.isFocused=e,this.onFocus(e),flexbe_cli.events.emit("entity_event",{type:"focus",core:this,state:e}),this.$area.trigger("onFocus",{state:e})}},e._onScreen=function(t){var e=t.state;if(this.isVisible!==e){this.isVisible=e,this.onScreen(e),flexbe_cli.events.emit("entity_event",{type:"screen",core:this,state:e}),this.$area.trigger("onScreen",{state:e})}},e._onView=function(t){var e=t.state;if(this.isView!==e){this.isView=e,this.onView(e),flexbe_cli.events.emit("entity_event",{type:"view",core:this,state:e}),this.$area.trigger("onView",{state:e})}},e._onBeside=function(t){var e=t.state;if(this.isBeside!==e){this.isBeside=e,this.onBeside(e),flexbe_cli.events.emit("entity_event",{type:"beside",core:this,state:e}),this.$area.trigger("onBeside",{state:e})}},e._tween=function(){var t=this.container||this.area,e=t.offsetWidth,i=t.offsetHeight,n=e!==this.tween.width||i!==this.tween.height;return this.tween.width=e,this.tween.height=i,n},t}();
function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var BlockCore=function(e){function t(t,i){var n;return n=e.call(this,t,i)||this,n.is="block",n.$block=n.$area,n}_inheritsLoose(t,e);var i=t.prototype;return i._onInit=function(t){flexbe_cli.block.fixCoverHeight(this.$area),e.prototype._onInit.call(this,t)},i._onUpdate=function(t){t.templateRendered&&flexbe_cli.block.fixCoverHeight(this.$area),e.prototype._onUpdate.call(this,t)},i._tween=function(e){function t(){if(!o.inited)return!1;var e=Math.max(flexbe_cli.resize.height-s,0),t=1/o.tween.height*(window.pageYOffset-o.tween.start),i=function(){var e=window.pageYOffset+flexbe_cli.resize.height/2,t=o.tween.start+o.tween.height/2;return(e-t+o.tween.height/2)/o.tween.height}(),n=function(){var e=o.tween.start-flexbe_cli.resize.height;return 1/(o.tween.end-e)*(window.pageYOffset-e)}();o.tween.fix=e,o.tween.position=t,o.tween.positionAbs=n,o.tween.positionCenter=i;var r=i>0&&i<1,h=function(){if(!o.tween.width)return!1;var e=flexbe_cli.resize.height>=o.tween.height?o.tween.height/4:flexbe_cli.resize.height/3;return window.pageYOffset+flexbe_cli.resize.height>o.tween.start+e&&window.pageYOffset<o.tween.end-e}(),w=function(){if(!o.tween.width)return!1;return o.tween.positionAbs>=0&&o.tween.positionAbs<=1}(),f=function(){if(!o.tween.width)return!1;return o.tween.positionAbs>=-.2&&o.tween.positionAbs<=1.2}();o.tween.focus=r,o.tween.view=h,o.tween.onscreen=w,o.tween.beside=f,o._onBeside({state:f}),o._onScreen({state:w}),o._onView({state:h}),o._onFocus({state:r})}var i=(void 0===e?{}:e).force,n=void 0!==i&&i,o=this,r=this.area.offsetWidth,s=this.area.offsetHeight,h=this.area.offsetTop,w=r!==this.tween.width||s!==this.tween.height;this.tween.width=r,this.tween.height=s,this.tween.start=h,this.tween.end=h+s,n&&(this.isVisible=null,this.isBeside=null,this.isView=null,this.isFocused=null);var f=this.$area.find(".container")[0];return this.tween.color=f&&getComputedStyle(f).color||"#fff",t(),$(window).off("scroll.tween_"+this.id).on("scroll.tween_"+this.id,$.throttle(t,50)),w},t}(EntityCore);
function _inheritsLoose(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o}var ModalCore=function(e){function o(o,t){var s;return s=e.call(this,o,t)||this,s.is="modal",s.isOpen=!1,s.$modal=s.$area,s.$list=flexbe_cli.modal.$list,s}_inheritsLoose(o,e);var t=o.prototype;return t.open=function(e,o){var t=this;void 0===o&&(o={}),this.isOpen=!0,flexbe_cli.block.pushOverlay("modal",!0),this.lastOptions=o,this.lastScroll=flexbe_cli.scroll.latest;var s=this.$area.find(".modal-data > ._anchor").attr("name")||this.id;flexbe_cli.lockPopstate=!0,history.pushState(null,null,"#"+s),flexbe_cli.lockPopstate=!1,this.$list.addClass("show"),this.$area.addClass("show"),setTimeout(function(){t.$list.addClass("overlay"),t._onOpen(e),t._onScreen({state:!0}),t._onBeside({state:!0}),t._onView({state:!0}),t._onFocus({state:!0}),"function"==typeof o.onOpen&&o.onOpen(t)},30),$("body").addClass("is-modal-open"),flexbe_cli.run.is_desktop?$("body").addClass("overflow"):flexbe_cli.run.is_screen_all_mobile&&$("body, html").scrollTop(0)},t.close=function(e){var o=(void 0===e?{}:e).from,t=this.lastOptions;this.lastOptions={},this.isOpen=!1,flexbe_cli.block.removeOverlay("modal"),/^#{1,2}/.test(location.hash)&&(flexbe_cli.lockPopstate=!0,history.replaceState(null,null,"#"),flexbe_cli.lockPopstate=!1),this.$area.removeClass("show"),o||($("body").removeClass("overflow"),this.$list.removeClass("show overlay")),this._onClose(),this._onScreen({state:!1}),this._onBeside({state:!1}),this._onView({state:!1}),this._onFocus({state:!1}),"function"==typeof t.onClose&&t.onClose(this),$("body").removeClass("is-modal-open"),flexbe_cli.run.is_screen_all_mobile&&$("body, html").scrollTop(this.lastScroll)},t._onOpen=function(e){this._tween(),this.onOpen(e),flexbe_cli.events.emit("entity_event",{type:"opened",core:this,data:e})},t._onClose=function(){this.onClose(),flexbe_cli.events.emit("entity_event",{type:"closed",core:this})},t.onOpen=function(){},t.onClose=function(){},o}(EntityCore);
function _inheritsLoose(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o}var WidgetCore=function(t){function o(o,e){var r;return r=t.call(this,o,e)||this,r.is="widget",r.$widget=r.$area,r}_inheritsLoose(o,t);return o.prototype._tween=function(){},o}(EntityCore);
function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ElementCore=function(t){function e(e,o){var n,i=(n=t.call(this,e,o)||this).$area.closest(".b_block, .m_modal, .w_widget").eq(0),r=n.$area.closest(".content-zone").eq(0);return n.is="element",n.isClone=n.$area.closest(".swiper-slide-duplicate").length>0,n.$container=n.$area.find(".element-content"),n.container=n.$container[0],n.$root=i,n.root=i[0],n.$zone=r,n.zone=r[0],n}_inheritsLoose(e,t);var o=e.prototype;return o._onInit=function(e){t.prototype._onInit.call(this,e),this.inheritEvents()},o._onUpdate=function(e){t.prototype._onUpdate.call(this,e),this.inheritEvents()},o.inheritEvents=function(){var t=this,e=this.root._core;e&&(this._onFocus({state:e.isFocused}),this._onView({state:e.isView}),this._onScreen({state:e.isVisible}),this._onBeside({state:e.isBeside})),["onFocus","onView","onScreen","onBeside","onResize"].forEach(function(e){var o=e+".element_"+t.id+(t.isClone?"_clone":"_original");t.$area.off(o).on(o,function(t){return t.preventDefault(),t.stopPropagation(),!1}),t.$root.off(o).on(o,function(n,i){var r=i.state;if(!t.root.contains(t.area))return t.$root.off(o),!1;t["_"+e]({state:r})})})},e}(EntityCore);
flexbe_cli.components={instances:{},classes:{},helpers:{},init:function(){var e=this,n=this.instances;this.links(),flexbe_cli.lang.init(),flexbe_cli.events.on("entity_event.components_init",function(t,o){if(!(o&&o.type&&o.core&&o.core.id))return!1;var i=o.core,a=i.isClone?i.id+"_clone":i.id,c=n[a]||[];"inited"===o.type||"updated"===o.type&&o.params.templateRendered?(e.initComponents({core:i,reason:o.type,params:o.params}),flexbe_cli.lang.init(i.area)):/resize/.test(o.type)?c.forEach(function(e){return e._onResize({core:i,reason:o.type,params:o.params})}):/screen/.test(o.type)?c.forEach(function(e){return e._onView({state:o.state})}):/focus/.test(o.type)?c.forEach(function(e){return e._onFocus({state:o.state})}):/beside/.test(o.type)?c.forEach(function(e){return e._onBeside({state:o.state})}):/open/.test(o.type)&&"modal"===i.is?c.forEach(function(e){return e._onOpen({data:o.data})}):/close/.test(o.type)&&"modal"===i.is&&c.forEach(function(e){return e._onClose({data:o.data})})}),$(window).off("load.core_components").one("load.core_components",function(){Object.values(n).forEach(function(e){e.forEach(function(e){return e._onPageLoad()})})})},initComponents:function(e){var n=this,t=void 0===e?{}:e,o=t.core,i=t.reason,a=void 0===i?"inited":i,c=t.force,r=void 0!==c&&c,s=o.$area,l=o.isClone?o.id+"_clone":o.id,f=o.components,m=!1;if(!0===f?m="[data-component]":Array.isArray(f)&&(m=f.map(function(e){return'[data-component^="'+e+'"]'}).join(", ")),m){var d=s.find(m).toArray(),p={};this.instances[l]=d.map(function(e){var t=[],i=String(e.getAttribute("data-component")).trim().split(":"),c=i[0],s=i[1];s&&(t=String(s).replace(/^\[|\]$/g,"").split(",")),void 0===p[c]&&(p[c]=0);var l=p[c];if(p[c]+=1,r&&e.componentInstance)"function"==typeof e.componentInstance.destroy&&e.componentInstance.destroy(),delete e.componentInstance;else if(e.componentInstance)return e.componentInstance.index=l,e.componentInstance;var f=n.classes[c];if("function"==typeof f){var m=new f({args:t,component:e,index:l,core:o,reason:a});if(m instanceof BaseComponent)return e.componentInstance=m,m._onInit(),o.isVisible&&m._onView({state:!0}),m}return!1}).filter(function(e){return e})}if(this.instances[l]&&!this.instances[l].length)return delete this.instances[l],!1},links:function(e){void 0===e&&(e="body"),$(e).off("click.component-links").on("click.component-links","a[href], a[data-action]",function(e){var n=$(e.currentTarget).attr("href"),t=$(e.currentTarget).attr("data-action");if(n||t){if(/#{1,2}.+/.test(n)){if(1===flexbe_cli.theme_id){$(e.currentTarget).closest(".mobile-menu").removeClass("active")}else $("body > .mobile-menu").trigger("close"),$("body").removeClass("overflow fixed");var o=(n=n.replace(/^(?:\.\/)#{2}/,"#").trim()).trim().split("#"),i=""===o[0]||"./"===o[0]?location.pathname:o[0],a=o[o.length-1];if(i!==location.pathname)return!0;var c=flexbe_cli.block.$list.find(".b_"+a+', ._anchor[name="'+a+'"]').eq(0),r=flexbe_cli.modal.$list.find(".m_"+a+', ._anchor[name="'+a+'"]').eq(0);if(flexbe_cli.events.emit("mobilemenu_command",{command:"close"}),c.length){var s=c.closest(".b_block");flexbe_cli.events.emit("modal_command",{command:"close"}),flexbe_cli.block.scrollTo(s),history.replaceState(null,null,"#"+a)}else if(r.length){if(flexbe_cli.is_admin)return!0;var l=r.closest(".m_modal").data("id");flexbe_cli.events.emit("modal_command",{command:"open",id:l,data:{}})}e.preventDefault(),e.stopPropagation()}else if("button"===t){var f=$(e.currentTarget).closest("[data-item-id]").find(".component-button");f[0]&&f[0].click()}return n&&flexbe_cli.is_admin&&(e.preventDefault(),e.stopPropagation()),!0}})}};
var BaseComponent=function(){function i(i){var n=this,t=i.component,e=i.index,o=i.core,s=i.reason;this.core=o,this.owner=o.area,this.root=o.root,this.index=e||0,this.component=t,this.$component=$(t),this.require=[],this.isPageLoaded=flexbe_cli.isLoaded||!1,this.isUpdated="updated"===s,this.isLoaded=!1,this.isInited=!1,this.isViewed=!1,this.isBesided=!1,this.inView=!1,this.inBeside=!1,Object.defineProperty(this,"isVisible",{get:function(){return n.$component.is(":visible")},enumerable:!0,configurable:!0})}var n=i.prototype;return n.onInit=function(){},n.onLoad=function(){},n.onView=function(){},n.onBeside=function(){},n.onPageLoad=function(){},n.onResize=function(){},n.onFocus=function(){},n.onOpen=function(){},n.onClose=function(){},n._onInit=function(){var i=this;"function"==typeof this.onInit&&this.onInit(),flexbe_cli.require(this.require,function(){i._onLoad()}),this.isInited=!0},n._onLoad=function(){"function"==typeof this.onLoad&&this.onLoad(),this.isLoaded=!0},n._onView=function(i){var n=i.state;this.inView=n,this.onView({state:n,isFirst:n&&!this.isViewed}),n&&(this.isViewed=!0)},n._onFocus=function(i){var n=i.state;this.inFocus=n,this.onFocus({state:n,isFirst:n&&!this.isFocused}),n&&(this.isFocused=!0)},n._onResize=function(i){this.onResize(i)},n._onOpen=function(i){this.onOpen(i)},n._onClose=function(i){this.onClose(i)},n._onBeside=function(i){var n=i.state;this.inBeside=n,this.onBeside({state:n,isFirst:n&&!this.isBesided}),n&&(this.isBesided=!0)},n._onPageLoad=function(){this.onPageLoad(),this.isPageLoaded=!0},i}();
function _typeof(i){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(i)}function _inheritsLoose(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t}!function(){var i=function(){function i(i,t,e){var o=this;this.id=i,this.params=e,this.pending=!1,this.visible=!1,this.size=!1,this.imSize={w:0,h:0},this.$outer=$(".parallax-outer",t),this.overlay=$(".overlay",t).get(0),this.canvas=$("canvas",this.$outer).get(0),this.offScreen=document.createElement("canvas"),this.ovOp=+$(this.overlay).css("opacity"),this.factor=1===e.parallax||2===e.parallax?.3:0,this.zoomRatio=3===e.parallax||4===e.parallax?.2:0,this.zoomType=3===e.parallax||4===e.parallax?2:0,this.zoomD=3===e.parallax?.5:4===e.parallax?1:0,this.fadeout=1===e.parallax?0:3===e.parallax?.5:1;var a=window.devicePixelRatio>=1.5?1960/window.devicePixelRatio:1960,s=this.$outer.width(),n=this.$outer.height(),r=this.$outer.offset()||{};this.blSize={w:s<=a?s:a},this.blSize.r=this.blSize.w/s,this.blSize.h=this.blSize.r*n,this.blSize.x=this.blSize.r*r.top,this.winSize={w:$("window").width()*this.blSize.r,h:$("window").height()*this.blSize.r},this.blSizeOr={w:s,h:n,x:r.top},this.offCtx=this.offScreen.getContext("2d",{alpha:!1}),this.canvas.width=0,this.canvas.height=0,this.ctx=this.canvas.getContext("2d",{alpha:!1}),this.img=document.createElement("img"),this.position={x:+this.$outer.data("bg-pos-x").replace("%","")/100,y:+this.$outer.data("bg-pos-y").replace("%","")/100},this.dispatchEvents(),this.img.onload=function(){o.loaded=!0,o.imSize={w:o.img.width,h:o.img.height},o.imSize.r=o.imSize.h/o.imSize.w,o.updateCanvasSource(),setTimeout(function(){o.$outer.addClass("ready")},30)},this.img.src=this.$outer.attr("data-image")}var t=i.prototype;return t.dispatchEvents=function(){var i=this;$(window).off("resized."+this.id+" documentresize."+this.id).on("resized."+this.id+" documentresize."+this.id,function(){i.updateCanvasSource()}),$(window).off("scroll.component-bg-"+this.id).on("scroll.component-bg-"+this.id,function(){i.pending||(i.pending=!0,i.updateInst())}),flexbe_cli.events.off("editor_change.bg_"+this.id).on("editor_change.bg_"+this.id,function(t,e){e.entity&&e.entity.id==i.id&&"editor_settings"===e.reason&&(i.ovOp=.01*e.entity.data.background.opacity,i.pending||(i.pending=!0,i.updateInst()))}),flexbe_cli.events.off("layout_change.bg_"+this.id).on("layout_change.bg_"+this.id,function(t,e){e&&e.test&&e.test.current&&e.test[e.test.current]===i.id&&i.updateCanvasSource()})},t.toggleRendering=function(i){if("boolean"!=typeof i)return!1;i!==this.visible&&(this.visible=i,$(this.overlay).toggleClass("will-change",i))},t.getCosPoint=function(i,t,e){return void 0===e&&(e=1),1-i>e&&(i=e),(1-Math.cos(Math.PI*i*t))/2},t.getZoomCoords=function(i){var t=1===this.zoomType?i:-1===this.zoomType?100-i:2===this.zoomType?100-100*this.getCosPoint(.01*i,2,this.zoomD):0,e={ratio:this.zoomRatio/100*t};return e.w=this.blSize.w*(1+e.ratio),e.h=this.blSize.h*(1+e.ratio),e.x=(e.w-this.canvas.width)/2,e.y=(e.h-this.blSize.h)/2,e},t.draw=function(i,t){var e,o=this;if(this.fadeout&&(e=1-(1-this.ovOp)*this.getCosPoint(.01*t,2,this.fadeout)),this.zoomRatio){var a=this.getZoomCoords(t);requestAnimationFrame(function(){o.overlay.style.opacity=e,o.ctx.drawImage(o.offScreen,Math.ceil(-1*a.x),Math.ceil(i*o.factor-o.winSize.h*o.factor-a.y),a.w,a.h),o.pending=!1})}else{var s=Math.ceil(i*this.factor-this.winSize.h*this.factor);requestAnimationFrame(function(){o.overlay.style.opacity=e,o.ctx.drawImage(o.offScreen,0,s),o.pending=!1})}},t.updateInst=function(){if(this.winSize.x=(window.scrollY||window.pageYOffset)*this.blSize.r,this.winSize.x+this.winSize.h>this.blSize.x-200&&this.winSize.x<this.blSize.x+this.blSize.h){this.toggleRendering(!0);var i=this.winSize.x+this.winSize.h-this.blSize.x,t=100-i/(this.blSize.h+this.winSize.h)*100;this.draw(i,t)}else this.toggleRendering(!1),this.pending=!1},t.prerender=function(){this.loaded&&(this.fitToOuter(),this.offScreen.width=this.blSize.w,this.offScreen.height=this.zoomRatio?this.blSize.h:Math.ceil(this.size.offH),this.drawOffscreenImage(this.position.x,this.position.y))},t.updateCanvasSource=function(){this.prerender(),this.updateInst()},t.drawOffscreenImage=function(i,t){i="number"==typeof i?i:.5,t="number"==typeof t?t:.5,i<0&&(i=0),t<0&&(t=0),i>1&&(i=1),t>1&&(t=1);var e,o,a,s,n=this.offCtx.canvas.width,r=this.offCtx.canvas.height;r/n<=this.imSize.r?(a=n,e=0,o=((s=n*this.imSize.r)-r)*t*-1):(s=r,o=0,e=((a=r/this.imSize.r)-n)*i*-1),this.offCtx.drawImage(this.img,e,o,a,s)},t.fitToOuter=function(){var i=window.devicePixelRatio>=1.5?1600:1960;this.blSize={w:this.$outer.width()<=i?this.$outer.width():i},this.blSize.r=this.blSize.w/this.$outer.width(),this.blSize.h=this.blSize.r*this.$outer.height(),this.blSize.x=this.blSize.r*this.$outer.offset().top,this.winSize={w:$(window).width()*this.blSize.r,h:$(window).height()*this.blSize.r},this.canvas.width=this.blSize.w,this.canvas.height=this.blSize.h,this.canvas.style.transform="scale("+1/this.blSize.r+")";var t,e=Math.max(this.winSize.h,this.blSize.h),o=e-(e-Math.min(this.winSize.h,this.blSize.h))*(this.blSize.h>this.winSize.h?this.factor:1-this.factor),a=o/this.blSize.w;(t=this.imSize.r>=a?{w:this.blSize.w,h:this.blSize.w*this.imSize.r}:{h:o,w:o/this.imSize.r}).offH=o,t.x=(t.w-this.blSize.w)/2,this.size=t},t.destroy=function(){this.destroyed=!0,$(window).off("resize."+this.id+" documentresize."+this.id),$(window).off("scroll.component-bg-"+this.id),flexbe_cli.events.off("editor_change.bl.bg_"+this.id),this.$outer.removeClass("ready"),this.offScreen.remove(),this.img.remove()},i}(),t=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=(i=t.call.apply(t,[this].concat(o))||this).$component;return i.data={type:s.data("type")||"color",parallax:s.data("parallax")||0,video:s.data("video")||!1,videoParallaxFactor:.6},i.data.parallax&&flexbe_cli.run.is_mobile&&(flexbe_cli.run.is_screen_mobile_s||flexbe_cli.run.is_screen_all_mobile&&"video"===i.data.type)&&(i.data.parallax=0),i}_inheritsLoose(e,t);var o=e.prototype;return o.onInit=function(){this.loadImage(),this.imageParallaxInit(),this.videoParallaxInit()},o.onView=function(i){if(!i.state||this.isViewed||this.isBesided)return!1;this.playVideo()},o.onBeside=function(i){if(!i.state||this.isViewed||this.isBesided)return!1;this.playVideo()},o.loadImage=function(){function i(){clearTimeout(t),o.css("backgroundImage",""),e.removeClass("loading"),setTimeout(function(){a.remove()},300)}if(!flexbe_cli.is_admin){var t,e=this.$component,o=e.find(".image, .parallax-outer"),a=o.find(".loader-image"),s=a.attr("data-src");if(s){var n=new Image;n.onload=i,n.src=s,t=setTimeout(i,1e3)}}},o.imageParallaxInit=function(){if("image"!==this.data.type||!this.data.parallax)return!1;var t=this.owner,e=this.$component,o=this.data,a=t._core&&t._core.id||t.getAttribute("data-id");"object"===_typeof(t._bgEffects)&&t._bgEffects.destroy(),t._bgEffects=new i(a,e,o)},o.videoParallaxInit=function(){var i=this;if("video"!==this.data.type||!this.data.parallax||!this.owner._core)return!1;var t=$(".image-holder, .video_bg_container",this.$component),e=t.find(".image, .video_bg_player"),o=this.owner._core;flexbe_cli.resize.height<o.tween.height&&o.tween.width>500?t.css("height",o.tween.height+"px"):t.css("height","");var a=!1,s=function(){var t=o.tween.start,a=1-(1-i.data.videoParallaxFactor)*(o.tween.height/flexbe_cli.resize.height);a<0&&(a=i.data.videoParallaxFactor/2),e.css("transform","translate3d(0, "+-(window.pageYOffset-t)*a+"px, 0)")};s(),$(window).off("scroll.component-bg-"+o.id).on("scroll.component-bg-"+o.id,function(){!a&&o.tween.onscreen&&(a=!0,requestAnimationFrame(function(){s(),a=!1}))})},o.playVideo=function(){var i=this,t=this.$component,e=this.data,o=e.video;if("video"!==e.type||!o||"youtube"!==o.type||!o.id)return!1;if(flexbe_cli.run.is_mobile||flexbe_cli.run.is_screen_all_mobile)return!1;if(t.data("video_bg_played")){if(o.id===t.data("video_bg_played"))return;this.destroyVideo()}t.data("video_bg_played",o.id),flexbe_cli.require(["/_s/lib/jquery/youtubebackground/jquery.youtubebackground.js"],function(){t.YTPlayer({videoId:o.id,videoURL:o.url,callback:function(){i.videoParallaxInit(),setTimeout(function(){i.videoParallaxInit()},1e3)}})})},o.destroyVideo=function(){var i=this.$component;i.data("ytPlayer")&&i.data("ytPlayer").destroy(),i.removeData("video_bg_played")},e}(BaseComponent);flexbe_cli.components.classes.background=t}();
function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}!function(){var t=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,e.is="timer",e}_inheritsLoose(e,t);var i=e.prototype;return i.onInit=function(){this.$timer=this.$component.find(".timer"),this.data=this.$timer.data("time"),this.initTimer()},i.initTimer=function(){var t=this.$timer,e=this.data,i=new Date;if("date"===e.type){var a=e.my?String(e.my).replace(".","/").split("/"):[1,2018];this.finalDate=new Date(a[1],parseInt(a[0],10)-1,e.d,e.h,e.m)}else if("monthly"===e.type)this.finalDate=new Date(i.getFullYear(),i.getMonth(),e.d,e.h,e.m),i.getTime()>this.finalDate.getTime()&&(this.finalDate=new Date(i.getFullYear(),i.getMonth()+1,e.d,e.h,e.m)),parseInt(e.d,10)!=this.finalDate.getDate()&&(this.finalDate.setDate(0),i.getTime()>this.finalDate.getTime()&&(this.finalDate=new Date(this.finalDate.getFullYear(),this.finalDate.getMonth()+2,0,e.h,e.m)));else if("weekly"===e.type){var s=parseInt(i.getDate(),10)-parseInt(i.getDay(),10)+parseInt(e.dw,10);this.finalDate=new Date(i.getFullYear(),i.getMonth(),s,e.h,e.m),i.getTime()>this.finalDate.getTime()&&this.finalDate.setDate(this.finalDate.getDate()+7)}else"daily"===e.type?(this.finalDate=new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.h,e.m),i.getTime()>this.finalDate.getTime()&&this.finalDate.setDate(this.finalDate.getDate()+1)):(this.finalDate=new Date,this.finalDate.setMonth(this.finalDate.getMonth()+1,15));this.$itemDay1=t.find(".d [data-value]").eq(0),this.$itemDay2=t.find(".d [data-value]").eq(1),this.$itemDay3=t.find(".d [data-value]").eq(2),this.$itemHour1=t.find(".h [data-value]").eq(0),this.$itemHour2=t.find(".h [data-value]").eq(1),this.$itemMinute1=t.find(".m [data-value]").eq(0),this.$itemMinute2=t.find(".m [data-value]").eq(1),this.$itemSecond1=t.find(".s [data-value]").eq(0),this.$itemSecond2=t.find(".s [data-value]").eq(1),this.lastOffset={d:void 0,h:void 0,m:void 0,s:void 0},!flexbe_cli.is_admin&&"none"!==this.data.on_expired&&this.finalDate.getTime()<i.getTime()?"element"===this.data.on_expired?$(this.owner).hide():$(this.root).hide():this.start()},i.tick=function(){if(this.secondLeft=this.finalDate.getTime()-(new Date).getTime(),this.secondLeft=Math.ceil(this.secondLeft/1e3),this.secondLeft=this.secondLeft<0?0:this.secondLeft,this.offset={d:Math.floor(this.secondLeft/60/60/24),h:Math.floor(this.secondLeft/60/60)%24,m:Math.floor(this.secondLeft/60)%60,s:this.secondLeft%60},this.lastOffset.d!==this.offset.d){var t=this.offset.d.toString().split("");t.length<2&&t.unshift(0),t.length<3&&t.unshift(0),this.$itemDay1.attr("data-value",t[0]).text(t[0]),this.$itemDay2.attr("data-value",t[1]).text(t[1]),this.$itemDay3.attr("data-value",t[2]).text(t[2])}if(this.lastOffset.h!==this.offset.h){var e=this.offset.h.toString().split("");e.length<2&&e.unshift(0),this.$itemHour1.attr("data-value",e[0]).text(e[0]),this.$itemHour2.attr("data-value",e[1]).text(e[1])}if(this.lastOffset.m!==this.offset.m){var i=this.offset.m.toString().split("");i.length<2&&i.unshift(0),this.$itemMinute1.attr("data-value",i[0]).text(i[0]),this.$itemMinute2.attr("data-value",i[1]).text(i[1])}if(this.lastOffset.s!==this.offset.s){var a=this.offset.s.toString().split("");a.length<2&&a.unshift(0),this.$itemSecond1.attr("data-value",a[0]).text(a[0]),this.$itemSecond2.attr("data-value",a[1]).text(a[1])}this.lastOffset=this.offset,this.secondLeft<0&&this.stop()},i.start=function(){var t=this;this.tick(),clearInterval(this.interval),this.interval=setInterval(function(){t.tick()},200)},i.stop=function(){clearInterval(this.interval)},e}(BaseComponent);flexbe_cli.components.classes.timer=t}();
function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}!function(){var e=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];(t=e.call.apply(e,[this].concat(o))||this).is="video",t.type=t.$component.data("type"),t.autoplay=!!+t.$component.data("autoplay"),t.$preview=t.$component.find(".video-preview"),t.hasPreview=t.$preview.length,t.frameLoaded=!1,t.autoSet=!t.hasPreview;var a=t.$component.parent();if(a.hasClass("slider-item")){a.closest(".component-slider").attr("data-current-index")===a.attr("data-real-index")||(t.autoSet=!1)}return t.$component.off("sliderActivate").on("sliderActivate",function(){t.set()}),t.$component.off("sliderDeactivate").on("sliderDeactivate",function(){t.pause()}),t}_inheritsLoose(t,e);var i=t.prototype;return i.onInit=function(){this.bindEvents()},i.onView=function(e){var t=this,i=e.state;if(i?this.autoplay&&this.onFrameLoaded(function(){t.play()}):this.pause(),!i||!this.autoSet||this.isViewed||this.isBesided)return!1;this.set()},i.onBeside=function(e){if(!e.state||!this.autoSet||this.isViewed||this.isBesided)return!1;this.set()},i.onPageLoad=function(){var e=this;setTimeout(function(){if(!e.autoSet||e.isViewed||e.isBesided)return!1;e.set()},2e3)},i.bindEvents=function(){var e=this;this.hasPreview&&!flexbe_cli.is_admin&&this.$preview.on("click",function(t){var i=$(t.currentTarget).parents(".slider-wrapper").get(0);t.preventDefault(),i&&i.swiper&&i.swiper.autoplay&&i.swiper.autoplay.pause(),e.set({autoplay:!0}),setTimeout(function(){e.$component.attr("data-state","play")},250)})},i.set=function(e){var t=(void 0===e?{}:e).autoplay;if(this.isSet)return!1;this.isSet=!0;var i=this.component.querySelector("iframe");if(!i)return!1;var o=i.getAttribute("data-src"),n=i.getAttribute("src");o&&!n&&(i.src=o+(t?"&autoplay=1":""))},i.play=function(){var e=this.component.querySelector("iframe"),t=e&&e.contentWindow;if(!t)return!1;this.isPaused=!1,"vimeo"===this.type?t.postMessage({method:"play"},"*"):t.postMessage('{"event":"command","func":"playVideo","args":""}',"*")},i.pause=function(){var e=this.component.querySelector("iframe"),t=e&&e.contentWindow;if(!t)return!1;this.isPaused=!0,"vimeo"===this.type?t.postMessage({method:"pause"},"*"):t.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")},i.onFrameLoaded=function(e){var t=this;if(this.frameLoaded)"function"==typeof e&&e();else{this.component.querySelector("iframe").onload=function(){t.frameLoaded=!0,"function"==typeof e&&e()}}},t}(BaseComponent);flexbe_cli.components.classes.video=e}();
function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}!function(){var t={},e=function(t,e){void 0===e&&(e=function(){});var i=new Image;return i.onload=function(){"function"==typeof i.remove&&i.remove(),e(i)},i.src=t,i},i=function(t,e){var i=t.ext,n=t.id,o=t.name,a=t.resizable,r=Math.max(1,window.devicePixelRatio||1);return e=Math.round(Math.min(2560,e*r)),["/img/"+n,a&&e?"_"+e:"",i?"."+i:"/"+o].join("")},n=function(n){function o(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];if(t=n.call.apply(n,[this].concat(i))||this,t.is="image",t.autoSet=!0,t.params={},t.component.getAttribute("data-img-loaded")&&(t.imageLoaded=!0,t.autoSet=!1),t.img=t.$component.find("img").get(0),t.layer=t.$component.find("[data-img-layer]").get(0)||t.component,t.overlay=t.$component.find(".overlay-content").get(0),!t.img)return t;var a=t.$component.parent();if(a.hasClass("slider-item")){a.closest(".component-slider").attr("data-current-index")==a.attr("data-real-index")||(t.autoSet=!1)}return t.$component.on("setImage sliderActivate",function(){t.set()}),t}_inheritsLoose(o,n);var a=o.prototype;return a.onInit=function(){this.isUpdated&&this.set()},a.onView=function(t){if(!t.state||!this.autoSet||this.isSet)return!1;this.set()},a.onBeside=function(t){if(!t.state||!this.autoSet||this.isSet)return!1;this.set()},a.onResize=function(){this.updateSize(),this.setOverlaySize()},a.set=function(t){var n=this;void 0===t&&(t=!1),(t||!this.isSet&&this.isVisible&&!this.imageLoaded)&&(this.isSet=!0,this.updateParams(),this.updateSize(),this.setOverlaySize(),this.getOptimalSize(function(t){var o=t.width,a=n.params,r=i(a,o),s=setTimeout(function(){n.setImage(r)},1e3);e(r,function(){n.setImage(r),clearTimeout(s)})}))},a.setImage=function(t){var e=this,n=this.params;if(t||(t=i(n)),this.imageLoaded||(this.imageLoaded=!0,requestAnimationFrame(function(){e.$component.removeClass("loading")})),this.img&&this.img.src===t)return!1;if(this.img&&(this.img.src=t),"background"===n.type){var o="url("+t+")",a=n.x+" "+n.y;this.layer.style.backgroundImage=o,this.layer.style.backgroundPosition=a}},a.setOverlaySize=function(){var t=this.overlay,e=this.componentWidth,i=this.componentHeight;if(t){var n="medium";e>=650&&i>=400?n="large":(e<=400||i<=250)&&(n="small"),t.setAttribute("data-size",n)}},a.updateParams=function(){var e=this.params,i=this.component,n=this.img;if(!e.id){var o=i.getAttribute("data-img-id");if(t[o])e=_extends({},t[o]);else{e.id=o,e.ext=i.getAttribute("data-img-ext"),e.name=i.getAttribute("data-img-name"),e.proportion=+i.getAttribute("data-img-proportion")/100;var a=e.name.match(/\.(\D{2,4})$/i);a[1]&&e.ext!==a[1]&&(e.ext=a[1]||!1),e.resizable=!["svg","gif"].includes(e.ext)}e.x=i.getAttribute("data-img-x"),e.y=i.getAttribute("data-img-y"),e.type=i.getAttribute("data-img-type")}return!e.proportion&&n&&n.src&&(e.proportion=n.naturalHeight/n.naturalWidth),t[e.id]||(t[e.id]=_extends({},e)),this.params=e,e},a.updateSize=function(){var t=this.component;this.componentWidth=Math.round(t.offsetWidth),this.componentHeight=Math.round(t.offsetHeight)},a.getProportion=function(n){void 0===n&&(n=function(){});var o=this.params;if(o.proportion)n(o.proportion);else{var a=i(o,50);e(a,function(e){o.proportion=e.naturalHeight/e.naturalWidth,t[o.id]&&(t[o.id].proportion=o.proportion),n(o.proportion)})}},a.getOptimalSize=function(t){void 0===t&&(t=function(){});var e=this.componentWidth,i=this.componentHeight,n=i/e;this.getProportion(function(o){var a,r;n>o?(a=i/o,r=i):(a=e,r=e*o),a=Math.round(a),r=Math.round(r),t({width:a,height:r})})},o}(BaseComponent);flexbe_cli.components.classes.image=n,flexbe_cli.components.helpers.replacePlaceholder=function(t){var e=$(t);e&&0!==e.length&&e.each(function(t,e){var i=$(e).data("src"),n=$(e).data("srcset"),o=new Image;o.onload=function(){i&&(e.src=i),n&&(e.srcset=n),$(e).addClass("loaded")},i&&(o.src=i),n&&(o.srcset=n)})}}();
function _inheritsLoose(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}!function(){function t(t,i,e,n){var a=$(t),s=i?'[data-component="'+i+'"]':"[data-component]";a.is(s)?a.trigger(e,n):$(t).find(s).each(function(t,i){$(i).trigger(e,n)})}function i(t){return["normal","active"].includes(t)}function e(t){var n=t.from,a=t.to,s=t.map,o=t.move,r=void 0===o?0:o,l=s[a-r],p=l&&i(l.state);return!l||p?r:n<a?e({from:n,to:a,map:s,move:r+1}):a<n?e({from:n,to:a,map:s,move:r-1}):r}var n=function(){function t(t,i){if(i=_extends({init:!0,targets:"span",active:0},i),"object"!==_typeof(t)||!t.querySelectorAll)return!1;Array.isArray(i.targets)||i.targets instanceof NodeList||i.targets instanceof HTMLCollection?this.targets=Array.from(i.targets):this.targets=Array.from(t.querySelectorAll(i.targets)),this.pagination=t,this.options=i,this.active=i.active,this.visible=i.visible||+t.getAttribute("data-bullets-visible"),this.visible||(this.visible=this.targets.length>=8?3:this.targets.length),this.init()}var n=t.prototype;return n.init=function(){this.bindEvents(),this.options.init&&this.setActive(this.active,!0)},n.bindEvents=function(){var t=this.targets,i=this.options,e=$(t);"function"==typeof i.onClick&&e.off(".bpc").on("click.bpc",function(t){var n=$(t.currentTarget),a=+e.filter('[data-state="active"]').attr("data-index"),s=+n.attr("data-index");i.onClick(s,a)})},n.setActive=function(t,n){var a=this.targets,s=this.active,o=this.oldMap,r=this.newMap;if(!a.length)return t;t=Math.max(Math.min(t,a.length-1),0);var l,p;o=o&&o.length?o:a.map(function(t){return{target:t,state:t.getAttribute("data-state")||"hidden"}});if((n?0:o.reduce(function(t,e){return t+(i(e.state)?1:0)},0))!==this.visible)p=Math.min(t+this.visible-1,a.length-1),l=Math.max(p-this.visible+1,0),r=o.map(function(t,i){var e=t.target,n=t.state;return n=i>=l&&i<=p?"normal":"hidden",{target:e,state:n}});else{var c=e({from:s,to:t,map:o});r=o.map(function(t,e){var n=t.target,a=t.state,s=o[e-c];return"normal"===(a=s&&s.state&&i(s.state)?"normal":"hidden")&&(void 0===l&&(l=e),p=e),{target:n,state:a}})}return r[t].state="active",r[l-1]&&(r[l-1].state="next"),r[l-2]&&(r[l-2].state="more"),r[p+1]&&(r[p+1].state="next"),r[p+2]&&(r[p+2].state="more"),a.forEach(function(t,i){t.setAttribute("data-state",r[i].state)}),this.active=t,this.oldMap=r,t},t}(),a=function(){function t(t,i){this.options=_extends({init:!0,tag:"span"},i),this.pagination=t,this.tag=this.options.tag,this.filled=!1,this.states=["hidden","more","next","active","next","more","hidden"],this.init()}var i=t.prototype;return i.init=function(){this.bindEvents(),this.options.init&&this.fillPagination({states:this.states,force:!0})},i.bindEvents=function(){var t=this.tag,i=this.pagination,e=this.options,n=$(i);"function"==typeof e.onClick&&n.off(".bpc").on("click.bpc",t,function(t){var i=$(t.currentTarget),n=+i.siblings('[data-state="active"]').attr("data-index"),a=+i.attr("data-index")-n;e.onClick(a)})},i.setActive=function(t){var i=this,e=this.states,n=this.filled&&t;if(this.fillPagination({states:e,force:!0}),n){this.pagination.offsetWidth;var a=e.map(function(i,n){return e[n+("prev"===t?1:-1)]||"hidden"});requestAnimationFrame(function(){i.fillPagination({states:a})})}},i.fillPagination=function(t){var i=void 0===t?{}:t,e=i.states,n=i.force,a=$(this.pagination),s=this.tag;if(this.filled=!0,n){var o=e.reduce(function(t,i,e){return t+"<"+s+' data-index="'+e+'" class="swiper-pagination-bullet" data-state="'+i+'"></'+s+">"},"");a.html(o)}else a.find(s).each(function(t,i){var n=$(i);n.attr("data-state",e[t]||"hidden"),n.attr("data-index",t)})},t}(),s=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=(t=i.call.apply(i,[this].concat(n))||this).component;t.require=["/_s/lib/swiper/swiper.v4.js"],t.is="slider",t.swiper=null,t.wrapperEl=s.querySelector(".slider-wrapper"),t.paginationEl=s.querySelector(".slider-pagination"),t.prevEl=s.querySelector('.slider-prev, [data-direction="prev"]'),t.nextEl=s.querySelector('.slider-next, [data-direction="next"]');var o=t.paginationEl&&t.paginationEl.getAttribute("data-type")||"bullets";return t.options={count:s.getAttribute("data-count"),paginationType:o,loop:Boolean(!flexbe_cli.is_admin&&Math.floor(s.getAttribute("data-loop"))),autoplay:!flexbe_cli.is_admin&&Math.floor(s.getAttribute("data-autoplay"))||!1},t}_inheritsLoose(e,i);var s=e.prototype;return s.onInit=function(){this.isUpdated&&this.isLoaded&&this.initSwiper()},s.onLoad=function(){if(!this.inView&&!this.inBeside)return!1;this.initSwiper()},s.onView=function(t){var i=t.state;if(!this.isLoaded)return!1;this.swiper||this.initSwiper(),this.toggleAutoplay({state:i})},s.onBeside=function(t){if(!t.state||!this.isLoaded||this.swiper)return!1;this.initSwiper()},s.onResize=function(){this.setComponentSize(),this.swiper&&this.swiper.update()},s.initSwiper=function(){var i=this;if(this.swiper||this.options.count<=1||"undefined"==typeof Swiper)return!1;this.setComponentSize();var e=this.options,s=this.component,o=this.owner,r=this.root,l=this.index,p=this.wrapperEl,c=this.paginationEl,d=this.prevEl,u=this.nextEl,h=(o._core&&o._core.id||"-")+":"+l,f=e.count,g=e.loop,v=e.paginationType,m=this.owner.closest(".swiper-inited"),b={prevEl:d,nextEl:u},y={el:c,type:v,clickable:4!==flexbe_cli.theme_id||!g,modifierClass:"slider-pagination-"},w=!!e.autoplay&&{delay:1e3*e.autoplay,stopOnLastSlide:!g},x=0;if(flexbe_cli.is_admin){r._sliderState||(r._sliderState={});var _=r._sliderState;_[h]&&(x=Math.max(0,Math.min(f-1,_[h])||0)),_[h]=x}this.$component.one("mouseover.loadImages touchstart.loadImages",function(){i.$component.off(".loadImages"),t(i.$component,"image","setImage")}),this.swiper=new Swiper(p,{init:!1,speed:450,nested:m,wrapperClass:"slider",slideClass:"slider-item",slideActiveClass:"active",noSwipingClass:"redactor-box",initialSlide:x,navigation:b,pagination:y,autoplay:w,loop:g,simulateTouch:!flexbe_cli.is_admin,a11y:!1,touchReleaseOnEdges:!0,roundLengths:!0,touchMoveStopPropagation:!1,preventClicksPropagation:!0,preventClicks:!0,runCallbacksOnInit:!1}),this.swiper.on("init",function(){if($(p).addClass("swiper-inited"),$(d).add(u).removeClass("disabled"),g){$(".swiper-slide-duplicate",s).find(".component-image").removeAttr("data-lg"),flexbe_cli.components.initComponents({core:i.owner._core})}});var S=!1;this.swiper.on("slideChangeTransitionEnd",function(){var t=i.swiper;g&&t.activeIndex!==t.realIndex+1?(S=!0,t.slideToLoop(t.realIndex,0)):S=!1}),this.swiper.on("slideChange",function(){var e=i.swiper;if(!S){var n=e.slides[e.previousIndex],a=e.slides[e.activeIndex],o=a&&a.getAttribute("data-type")||"image";s.setAttribute("data-current-content",o),flexbe_cli.is_admin&&(r._sliderState[h]=e.realIndex),t(n,!1,"sliderDeactivate"),t(a,!1,"sliderActivate")}}),this.swiper.on("paginationRender",function(){4===flexbe_cli.theme_id&&"bullets"===y.type&&(g?i.loopPagination=new a(c,{init:!1,tag:"span",onClick:function(t){t<0?i.swiper.slidePrev():t>0&&i.swiper.slideNext()}}):i.bulletsPagination=new n(c,{init:!1,targets:"span",active:i.swiper.realIndex})),$(c).removeClass("disabled")}),this.swiper.on("paginationUpdate",function(){if(!S)if(i.bulletsPagination)i.bulletsPagination.setActive(i.swiper.realIndex);else if(i.loopPagination){var t=i.swiper.previousIndex<i.swiper.activeIndex?"next":"prev";i.loopPagination.setActive(t)}}),this.swiper.init(),this.toggleAutoplay({state:this.inView})},s.toggleAutoplay=function(t){var i=t.state;if(!this.swiper)return!1;var e=this.swiper;this.options.autoplay&&e.autoplay&&(i&&!e.autoplay.running?e.autoplay.start():!i&&e.autoplay.running&&e.autoplay.stop())},s.setComponentSize=function(){this.$component.css("width","");var t=this.$component.outerWidth();t%1>0&&this.$component.css("width",parseInt(t,10)+"px")},e}(BaseComponent);flexbe_cli.components.classes.slider=s,flexbe_cli.components.classes.bulletsPagination=n,flexbe_cli.components.classes.bulletsLoopPagination=a}();
function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}).apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}!function(){var t=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,e.is="button",e}_inheritsLoose(e,t),e.getProductInfo=function(t,e){void 0===e&&(e=!1);var i=flexbe_cli.theme_id<4?t.closest("[data-item-id], .modal-data").eq(0):t.parents("[data-item-id], .content-zone, .flexbe-card, .flexbe-column, .modal-content").last(),a=e?{}:t.data("product");if(!1!==a){if((a=_extends({},a)).count||(a.count=1),!a.img){var n=i.find("[data-img-id]").filter(function(t,e){return!$(e).closest(".swiper-slide-duplicate").length}).eq(0),o=n.attr("data-img-id"),l=n.attr("data-img-name");a.img=!(!o||!l)&&"/img/"+o+"_200/"+l}if(!a.title){var c=i.find(".name, .title, .item-title, .text_title, .element-text--title, .text-style-title, .text-style-subtitle").eq(0);c.length||(c=i.find(".text-style-conntent").eq(0)),a.title=c.text().trim()||""}if(!a.price&&0!==a.price){var r=i.find(".price, .item-price, .main-price, .element-text--price").eq(0).clone();r.length||(r=i.clone()),r.find("del, s, strike").remove();var m=r.text().replace(/[,.]/g,".").replace(/\.$/,"");m=m.match(/(?:[1-9] ?[0-9]{0,3} ?[0-9]{0,3})(?:[\.,][0-9]{1,2})?/g),m=(m=String(m&&m[0]||"")).replace(/[^\d]/,""),m=parseInt(m,10)||0,a.price=m}}return a};var i=e.prototype;return i.onInit=function(){this.$component.off("click.core-component").on("click.core-component",this.onClick.bind(this))},i.onClick=function(t){if(flexbe_cli.is_admin)return t.preventDefault(),!0;var e=this.$component,i=e.attr("data-action"),a=this.owner.getAttribute("data-id");if(!i)return!0;var n=e.attr("data-modal-id"),o=flexbe_cli.stat.getGoal(i,n);flexbe_cli.stat.reach_goal(o);try{var l=e.find('[name="goal"]').val();l&&flexbe_cli.stat.reach_goal(l);var c=e.find('[name="goal_html"]').val();c&&($("body").find(".button-html-goal").detach(),$("body").eq(0).append('<div class="button-html-goal" style="display:none"></div>'),$("body").find(".button-html-goal").html(c))}catch(t){console.warn(t.message)}var r=!1;if(!["link","file","close","quiz"].includes(i)&&!(r=this.constructor.getProductInfo(e)||{}).id){var m=flexbe_cli.p_id,d=e.closest("[data-item-id]").attr("data-item-id")||0,s=this.root&&this.root.getAttribute("data-multivar")||"";r.id=""+m+a+d+s}if(r&&(r.title&&"-"!==r.title||r.price)||(r=!1),n&&i.match(/^modal|^form/)){if(!flexbe_cli.modal.find(n)){n=parseInt(String(a).split("_")[0],10)+"_"+n}flexbe_cli.events.emit("mobilemenu_command",{command:"close"}),flexbe_cli.events.emit("modal_command",{command:"open",id:n,data:{items:r?[r]:[]}})}else if(r&&i.match(/^cart$/)){var f=e.closest(".m_modal").length;e.addClass("animate-add-to-cart"),setTimeout(function(){e.removeClass("animate-add-to-cart"),f&&(flexbe_cli.events.emit("modal_command",{command:"close"}),flexbe_cli.events.emit("cart_command",{command:"add",item:r}))},f?450:1600),f||flexbe_cli.events.emit("cart_command",{command:"add",item:r})}else"quiz"===i?flexbe_cli.events.emit("quiz_command",{command:"start",id:a}):"close"===i&&flexbe_cli.events.emit("modal_command",{command:"close"})},e}(BaseComponent);flexbe_cli.components.classes.button=t}();
function _inheritsLoose(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o}!function(){var e=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o=e.call.apply(e,[this].concat(n))||this,o.is="map",o.$map=o.$component,o.data=o.$component.data("data"),o.$component.removeAttr("data-data"),o}_inheritsLoose(o,e);var t=o.prototype;return t.onInit=function(){this.isUpdated&&this.isLoaded&&this.createMap()},t.onLoad=function(){(this.inView||this.inBeside)&&this.createMap()},t.onView=function(e){var o=e.state;if(!this.isLoaded)return!1;!o||this.isViewed||this.isBesided||this.createMap()},t.onBeside=function(e){var o=e.state;if(!this.isLoaded)return!1;!o||this.isViewed||this.isBesided||this.createMap()},t.createMap=function(){},o}(BaseComponent),o=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];o=e.call.apply(e,[this].concat(n))||this;var s=flexbe_cli.components.classes.map.getLocaleCode({provider:"yandex"})||"ru_RU";return o.require=["//api-maps.yandex.ru/2.1/?lang="+s],o}_inheritsLoose(o,e);var t=o.prototype;return t.onResize=function(){var e=this.map;e&&e.container.fitToViewport()},t.createMap=function(){var e=this;"undefined"!=typeof ymaps&&ymaps.ready(function(){e.createVendor(),e.setPlaces(),e.dispatchEvents(),e.fixBehavior(),e.$component.trigger("mapInit"),e.$component.removeClass("loading")})},t.createVendor=function(){this.map&&this.map.destroy(),this.map=new ymaps.Map(this.$component.find(".map")[0],{center:this.data.center,zoom:this.data.zoom,controls:["zoomControl"],behaviors:["default","scrollZoom"],type:"yandex#map"})},t.setPlaces=function(){var e=this,o=this.map,t=this.data;if(o){o.geoObjects.removeAll();var n=ymaps.templateLayoutFactory.createClass('<svg title="$[properties.balloonContent]" class="placemark" width="32" height="48" viewBox="0 0 24 32" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36 0 0 5.36 0 12c0 8 12 20 12 20s12-12 12-20c0-6.64-5.36-12-12-12zm0 8a4 4 0 0 1 4 4c0 2.22-1.78 4-4 4a4 4 0 0 1-4-4c0-2.2 1.8-4 4-4z" fill="$[properties.color]" fill-rule="evenodd"/></svg>');ymaps.layout.storage.get("custom#placemark")||ymaps.layout.storage.add("custom#placemark",n),t.places.forEach(function(t,n){t.color=t.color||"#3D52B0";var a=new ymaps.Placemark(t.coords,{balloonContentHeader:t.name||!1,balloonContent:t.address,color:t.color},{hideIconOnBalloonOpen:!1,balloonOffset:[0,-48],balloonCloseButton:!1,iconLayout:"custom#placemark",iconShape:{type:"Rectangle",coordinates:[[-16,-48],[16,0]]}});a.events.add("balloonopen",function(){e.$component.trigger("balloonOpen",n,t)}),o.geoObjects.add(a),t._mark=a})}},t.dispatchEvents=function(){var e=this.data,o=this.map;o&&(this.$component.on("selectMark",function(t,n){if(e.places.length&&e.places[n]){var a=e.places[n];o.setCenter(a.coords,e.zoom,{duration:350,checkZoomRange:!0}).then(function(){o.setCenter(a.coords)}),a._mark&&a._mark.balloon.open()}}),this.$component.on("resizeMap",function(){o.container.fitToViewport()}))},t.fixBehavior=function(){var e=this.map;if(e){var o;e.behaviors.disable("scrollZoom"),this.$component.off("mouseenter.preventzoom").on("mouseenter.preventzoom",function(){o=setTimeout(function(){e.behaviors.enable("scrollZoom")},500)}),this.$component.off("mouseleave.preventzoom").on("mouseleave.preventzoom",function(){o&&(clearTimeout(o),e.behaviors.disable("scrollZoom"))}),flexbe_cli.run.is_mobile&&e.behaviors.disable("drag")}},o}(e),t=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];o=e.call.apply(e,[this].concat(n))||this;var s=flexbe_cli.google_maps_api_key,i=flexbe_cli.components.classes.map.getLocaleCode({provider:"google"})||"ru";return o.require=["//maps.googleapis.com/maps/api/js?key="+s+"&language="+i],o}_inheritsLoose(o,e);var t=o.prototype;return t.createMap=function(){"undefined"!=typeof google&&(this.createVendor(),this.styleMap(),this.setPlaces(),this.dispatchEvents(),this.fixBehavior(),this.$component.trigger("mapInit"),this.$component.removeClass("loading"))},t.createVendor=function(){var e=this.data;this.map=new google.maps.Map(this.$component.find(".map")[0],{center:{lat:e.center[0],lng:e.center[1]},zoom:e.zoom,disableDefaultUI:!0,panControl:!0,zoomControl:!0,fullscreenControl:!0,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1})},t.dispatchEvents=function(){var e=this,o=this.$component,t=this.map;t&&(o.on("selectMark",function(o,t){e.selectMark(t,!0)}),o.on("resizeMap",function(){google.maps.event.trigger(t,"resize")}))},t.setPlaces=function(){var e=this,o=this.data,t=this.map;t&&o.places.forEach(function(o,n){var a='<svg width="32" height="48" viewBox="0 0 24 32" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36 0 0 5.36 0 12c0 8 12 20 12 20s12-12 12-20c0-6.64-5.36-12-12-12zm0 8a4 4 0 0 1 4 4c0 2.22-1.78 4-4 4a4 4 0 0 1-4-4c0-2.2 1.8-4 4-4z" fill="'+(o.color||"#222")+'" fill-rule="evenodd"/></svg>',s=new google.maps.Marker({position:{lat:o.coords[0],lng:o.coords[1]},map:t,visible:!0,animation:google.maps.Animation.DROP,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(a)}});o._mark=s,s.addListener("click",function(){e.selectMark(n)})})},t.styleMap=function(){var e=this.data,o=this.map;if(o)if("default"!==e.style&&e.style){var t="/_s/lib/google/maps/styles/"+e.style+".json";$.getJSON(t,function(e){e&&Array.isArray(e)&&o.setOptions({styles:e})})}else o.setOptions({styles:[]})},t.selectMark=function(e,o){void 0===o&&(o=!1);var t=this.data,n=this.map,a=t.places;if(n&&a&&a.length&&a[e]){a.forEach(function(e){return e._info&&e._info.close()});var s=a[e],i="";s.name&&(i+='<div style="margin-bottom: 3px;"><strong>'+s.name+"</strong></div>"),s.address&&(i+="<div>"+s.address+"</div>"),s._info=new google.maps.InfoWindow({content:i}),s._info.open(n,s._mark),o&&n.panTo({lat:s.coords[0],lng:s.coords[1]}),this.$component.trigger("balloonOpen",e,s)}},t.fixBehavior=function(){var e=this.$component,o=this.map;if(o){var t;e.off("mouseenter.preventzoom").on("mouseenter.preventzoom",function(){t=setTimeout(function(){o.setOptions({scrollwheel:!0})},500)}),e.off("mouseleave.preventzoom").on("mouseleave.preventzoom",function(){t&&(clearTimeout(t),o.setOptions({scrollwheel:!1}))})}},o}(e);flexbe_cli.components.classes.map=function(e){var n=e.args[0]||"yandex";"google"===n&&!flexbe_cli.is_admin&&String(flexbe_cli.google_maps_api_key.length)<32&&(n="yandex");return new("google"===n?t:o)(e)},flexbe_cli.components.classes.map.getLocaleCode=function(e){var o=e.lang,t=e.provider,n=o||flexbe_cli.lang.language,a={yandex:{ru:"ru_RU",by:"ru_RU",ge:"ru_RU",kz:"ru_RU",ua:"uk_UA",default:"en_US"},google:{ru:"ru",by:"be",ge:"ru",kz:"kk",ua:"uk",fr:"fr",pl:"pl",de:"de",es:"es",it:"it",default:"en"}};return!!a[t]&&(a[t][n]||a[t].default)}}();
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}!function(){var e={phone:{RU:["+7 (***) ***-**-**","8 (***) ***-**-**"],KZ:["+7 (***) ***-**-**","8 (***) ***-**-**"],UA:["+38 (***) ***-****"],BY:["+375 ** *******"],US:["+1 (***) ***-****"],RUS:["+7 (***) ***-**-**","8 (***) ***-**-**"],KAZ:["+7 (***) ***-**-**","8 (***) ***-**-**"],UKR:["+38 (***) ***-****"],BLR:["+375 ** *******"],USA:["+1 (***) ***-****"]}},t=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,e.is="form",e.ownerId=e.owner.getAttribute("data-id"),e.eventId="."+e.ownerId,e.$form=e.$component.find("form"),e.$fields=e.$form.find(".form-fields"),e.action=e.$form.find('input[name="action"]').val(),e.$form.find('input[name="p_id"]').val(flexbe_cli.p_id),e}_inheritsLoose(i,t),i.getDefaultMask=function(t){var i=String(t).toLowerCase(),n=flexbe_cli.lang.country,a=e[i]&&e[i][n];return a&&"string"==typeof a&&(a=[a]),_extends([],a)},i.initMask=function(e){if("undefined"==typeof IMask)return!1;var t={signed:!0,lazy:!0,padFractionalZeros:!0,definitions:{"*":/[0-9]/}},i=e.getAttribute("data-required"),n=e.getAttribute("data-mask");n=n&&!/[ ()*{}]/.test(n)?flexbe_cli.components.classes.form.getDefaultMask(n):[n];try{n=1===(n=(n=n.filter(function(e){return/[ ()*_{}]/.test(e)})).map(function(e){return e.replace(/0/g,"\\0")})).length?String(n[0]):n.map(function(e){return _extends({},t,{mask:e})});var a=new IMask(e,_extends({},t,{mask:n,dispatch:function(e,t){var i=t.compiledMasks;if(1==i.length)return i[0];var n=(t.value+e).replace(/\W/g,"");return i.find(function(e){var t=e.mask.replace(/\W/g,"")[0];return n[0]==t})||i[0]}})),o=function(){a.masked.isComplete||!i&&!a.value?e.setAttribute("data-mask-complete",!0):e.removeAttribute("data-mask-complete"),e.setAttribute("value",a.value)};e.value&&o(),a.on("accept",o),e._mask=a}catch(t){return console.warn("MASK ERROR:",{masks:n,errorMessage:t.message}),e.removeAttribute("data-mask"),!1}};var n=i.prototype;return n.onInit=function(){this.$masked=this.$form.find("[data-mask]"),!flexbe_cli.is_admin&&this.$masked.length&&(this.needInitMasks=!0,this.require=["/_s/lib/imask/imask.min.js"])},n.onLoad=function(){this.needInitMasks&&(this.isViewed||this.isBesided)&&this.inputMask()},n.onView=function(e){if(!e.state||this.isViewed||this.isBesided)return!1;this.formInit()},n.onBeside=function(e){if(!e.state||this.isViewed||this.isBesided)return!1;this.formInit()},n.onOpen=function(e){void 0===e&&(e={}),this.$component.find(".form-field").find("input, textarea").eq(0).focus(),e.data&&this.setData(e.data)},n.formInit=function(){if(this.formInited)return!1;this.formInited=!0,this.unbindEvents(),this.bindEvents(),this.customize()},n.customize=function(){this.fileInput(),this.customSelect(),this.enterSubmit(),this.textResize(),this.needInitMasks&&this.isLoaded&&this.inputMask()},n.unbindEvents=function(){this.$component.off(this.eventId),this.$form.off(this.eventId)},n.bindEvents=function(){var e=this;this.$fields.find(".form-field-text > input, .form-field-text > textarea, .form-field-checkbox > input").on("input"+this.eventId+" change"+this.eventId,function(e){var t=e.currentTarget,i=t.value,n=$(t);n.attr("value",i),n.closest(".form-field").removeClass("is_error")}),this.$form.on("click"+this.eventId,".form_field_submit, .form-field-submit",function(){e.$form.submit()}),this.$form.on("submit"+this.eventId,function(){if(e.busy||!e.validateForm())return!1;if(e.busy=!0,flexbe_cli.stat.u_id&&e.addFields([{name:"f_uid",type:"hidden",value:flexbe_cli.stat.u_id}],!1),"function"==typeof e.beforeSend&&!1===e.beforeSend())return e.busy=!1,!1;if(e.addFields([{name:"jsform",type:"hidden",value:parseInt(448312,10)}],!1),"undefined"!=typeof FormData)e.sendFormdata();else{if(!(e.$form.find('input[type="file"]').length<1))return!0;e.sendAjax()}return!1})},n.setData=function(e){if(!e)return!1;e&&e.fields&&this.addFields(e.fields),e&&e.items&&this.addItems(e.items)},n.onBeforeSend=function(e){"function"==typeof e&&(this.beforeSend=e)},n.onAfterSent=function(e){"function"==typeof e&&(this.afterSent=e)},n.addFields=function(e,t){void 0===t&&(t=!0);var i=this.$form.find(".form_fields_advanced");e.length&&i[0]&&(t&&i.empty(),e.forEach(function(e){i.find('input[name="'+e.name+'"]').remove();var t=$("<input>").attr("type",e.type).attr("name",e.name).attr("value",e.value);i.append(t)}))},n.addItems=function(e){if(void 0===e&&(e=[]),e&&e.length){var t=0,i=0,n="",a=[];e=e.map(function(e){return"object"!==_typeof(e)?{}:(e.count=parseInt(e.count,10)||1,e.price=parseFloat(e.price)||0,e.title="string"==typeof e.title&&e.title.trim()||e.title||"",t+=e.price*e.count||0,i+=e.count,e)});try{n=JSON.stringify(e)}catch(e){}a.push({type:"hidden",name:"product[items]",value:n}),a.push({type:"hidden",name:"product[price]",value:t}),a.push({type:"hidden",name:"product[total]",value:i}),t&&(a.push({type:"hidden",name:"pay[price]",value:t}),a.push({type:"hidden",name:"pay[desc]",value:i>1?"Товаров в корзине: "+i:e[0].title})),this.addFields(a)}},n.sendFormdata=function(){var e=this,t=new FormData(this.$form.get(0));if(t.append("is_ajax","true"),"undefined"!=typeof flexbeAPI&&void 0!==flexbeAPI.customLeadData&&t.append("customLeadData",JSON.stringify(flexbeAPI.customLeadData)),flexbe_cli.run.is_OSX&&"function"==typeof t.entries){var i=t.entries(),n=Array.isArray(i),a=0;for(i=n?i:i[Symbol.iterator]();;){var o;if(n){if(a>=i.length)break;o=i[a++]}else{if((a=i.next()).done)break;o=a.value}var s=o,r=s[0],l=s[1];"object"===_typeof(l)&&l instanceof File&&0===l.size&&t.delete(r)}}t.append("f_ab",JSON.stringify(flexbe_cli.stat.AB.getcookie())),this.$component.addClass("submitting");var d=$.ajax({url:this.$form.attr("action"),type:"POST",dataType:"json",processData:!1,contentType:!1,data:t,xhr:function(){return $.ajaxSettings.xhr()}});d.done(function(t){e.$component.addClass("success submit-ok"),e.$component.removeClass("submitting"),t.send_formdata=!0,void 0!==t.pay&&(e.pay=t.pay),e.showDone(),setTimeout(function(){e.$component.removeClass("success submit-ok")},1e3)}),d.fail(function(t){console.error("sendFormdata error: ",t),e.busy=!1,e.$component.removeClass("submitting")})},n.sendAjax=function(){var e=this,t=this.$form.serialize();$.ajax({url:this.$form.attr("action"),type:"POST",dataType:"json",data:t+"&is_ajax=true"}).done(function(t){e.$form.get(0).reset(),t.send_ajax=!0,void 0!==t.pay&&(e.pay=t.pay),e.showDone()}).fail(function(t){console.error("sendAjax: Ошибка при отправке формы",t),e.busy=!1,e.$component.removeClass("submitting")})},n.resetForm=function(){this.$form.get(0).reset(),this.$form.find(".file-input-outer").removeClass("active");this.$fields.find("input:not(:hidden)").each(function(e,t){t.value=null,t.checked=!1,t.removeAttribute("value"),t.removeAttribute("checked"),t.removeAttribute("data-mask-complete"),t._mask&&t._mask.updateValue()})},n.validateForm=function(){var e=this,t=!0,i=!0;return this.$form.find("[data-type]").each(function(n,a){var o=$(a),s=o.find("input, textarea, select").not('[type="hidden"]')[0],r="checkbox"===s.type?s.checked:s.value,l=e.checkField(s);if(o.removeClass("is_error"),l){var d=o.attr("data-type"),c=o.find(".error");o.outerWidth(),o.addClass("is_error"),c.length&&(c.attr("title",l),c.find(".error-text").text(l)),"checkbox"===d&&o.find(".form-field-checkbox--box").attr("title",l),t=!1}i&&r&&(i=!1)}),this.$fields.removeClass("all-fields-empty"),this.$fields.removeClass("has-error"),this.$fields.outerWidth(),t||this.$fields.addClass("has-error"),i&&(this.$fields.toggleClass("all-fields-empty",i),4===flexbe_cli.theme_id&&(t=!1)),t},n.showDone=function(){this.resetForm(),"function"==typeof this.afterSent&&this.afterSent(),this.busy=!1,flexbe_cli.stat.reach_goal("order_done");try{var e=this.$form.find('input[name="goal"]').val();void 0!==e&&""!==e&&flexbe_cli.stat.reach_goal(e)}catch(e){}try{var t=this.$form.find('textarea[name="goal_html"]').val();if("string"==typeof t&&t.trim()){var i=document.write;document.write=function(e){$("body").eq(0).append(e)},$("body").eq(0).append('<div style="display:none">'+t+"</div>"),setTimeout(function(){document.write=i},1e4)}}catch(e){}if("pay"===this.action&&void 0!==this.pay&&null!==this.pay){if(this.pay.pay_link.length>0){var n=window.location.origin+window.location.pathname+(window.location.search?window.location.search+"&":"?")+"pay_id="+this.pay.pay_id+"&h="+this.pay.pay_hash;try{history.pushState(null,null,n),setTimeout(function(){flexbe_cli.events.emit("pay",{action:"init"})},200)}catch(e){setTimeout(function(){document.location=n},500)}}}else if("redirect"===this.action){var a=this.$form.find('input[name="action_redirect"]').val();a.length>0&&setTimeout(function(){flexbe_cli.modal.close(),document.location=a},500)}else{var o=this.$component.find("[data-modal-id]").attr("data-modal-id");if(!flexbe_cli.modal.find(o)){var s=String(this.ownerId);o=(s&&s.split("_")[0])+"_"+o}flexbe_cli.modal.find(o)?flexbe_cli.events.emit("modal_command",{command:"open",id:o}):console.warn("Modal open error:","There is no window attached to the form.",o)}},n.fileInput=function(){this.$component.on("change"+this.eventId,".file-input",function(e){var t=$(e.currentTarget),i=t.parents(".form_field_file_holder"),n=t.val(),a=e.currentTarget.files.length;if(i.addClass("active"),t.parents(".form_field").removeClass("is_error"),1===a&&i.find(".files_name_holder_text").text(n),a>1){var o,s=a%100,r=a%10,l=Math.floor(s/10);o=1===r&&11!==s?"form.filesMult":r>1&&r<5&&1!==l?"form.filesMult1":"form.filesMult2",i.find(".files_name_holder_text").text(a+" "+flexbe_cli.lang.get(o))}0===a&&i.removeClass("active")}),this.$component.on("click"+this.eventId,".clear_files",function(e){var t=$(e.currentTarget).parents(".form_field_file_holder");t.find(".file-input").val(""),t.removeClass("active")})},n.enterSubmit=function(){flexbe_cli.is_admin||$(window).on("keyup"+this.eventId,function(e){if(13==e.which){var t=$(".m_modal.show").eq(0);if(t.find(".form_field_textarea").is(":focus"))return!1;t.find("form").submit()}})},n.textResize=function(){this.$component.find(".autosize").each(function(e,t){var i=t.offsetHeight-t.clientHeight,n=$(t);n.removeAttr("data-autoresize"),n.off("keyup input").on("keyup input",function(e){e.currentTarget.style.height=e.currentTarget.scrollHeight+i+"px"})})},n.customSelect=function(){this.$component.find(".dropdown-container").remove();this.$component.find("select.custom-select").each(function(e,t){var i=$(t),n=i.children("optgroup"),a=i.closest('[data-type="select"]'),o="",s="";n.length&&n.each(function(e,t){var i=$(t),n=i.attr("label");s+='<li class="optgroup">'+n+"</li>",i.children("option").each(function(e,t){var i=$(t),n=i.attr("value").replace(/"/g,"&quot;"),a=i.text()||"—";"selected"===i.attr("selected")?(o=a,s+='<li class="selected" data-value="'+n+'">'+a+"</li>"):s+='<li data-value="'+n+'">'+a+"</li>"})}),i.children("option").each(function(e,t){var i=$(t),n=i.val().replace(/"/g,"&quot;"),a=i.text()||"—";"selected"===i.attr("selected")?(o=a,s+='<li class="selected" data-value="'+n+'">'+a+"</li>"):s+='<li data-value="'+n+'">'+a+"</li>"});var r=$('<div class="dropdown-container">\n                        <div class="dropdown-select">\n                            <span>'+o+'</span>\n                        </div>\n                        <ul class="dropdown-select-ul">'+s+"</ul>\n                    </div>");i.after(r),r.off("click.selectdd").on("click.selectdd",".dropdown-select",function(){var e=r.hasClass("active");r.toggleClass("active",!e),a.toggleClass("active",!e),e||a.siblings('[data-type="select"]').removeClass("active").find(".dropdown-container").removeClass("active")}),r.off("click.selectli").on("click.selectli",".dropdown-select-ul li",function(e){var t=$(e.currentTarget);if(!t.hasClass("optgroup")){var n=t.closest("ul").siblings(".dropdown-select");r.toggleClass("active"),r.closest('[data-type="select"]').toggleClass("active"),t.siblings("li").removeClass("selected"),t.addClass("selected"),i.val(t.attr("data-value")),n.children("span").html(t.text())}})})},n.checkField=function(e){var t=e.type,i="checkbox"===t?e.checked:"file"===t?e.files:e.value,n=e.getAttribute("data-required")||!1,a=e.getAttribute("data-check")||!1,o=e._mask&&e.getAttribute("data-mask")||!1,s=!(!n||i)&&"form.required";if(o){!n&&!i||e.getAttribute("data-mask-complete")||(s="tel"===t&&i?"form.phone":"form.required")}else if(a)if(i.length&&"email"===t){/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Zа-яёА-ЯЁ\-0-9]+\.)+[a-zA-Zа-яёА-ЯЁ]{2,}))$/.test(i)||(s="form.email")}else if(i.length&&"tel"==t)if(/[^0-9+\(\)\-\s]/.test(i))s="form.digits";else{i.replace(/[^0-9]/g,"").length<5&&(s="form.minlength")}else"file"==t&&(s=!(!n||i.length)&&"form.required");return s=s&&flexbe_cli.lang.get(s)||!1},n.inputMask=function(){return"undefined"!=typeof IMask&&(this.needInitMasks=!1,this.$masked.each(function(e,t){flexbe_cli.components.classes.form.initMask(t)}),!0)},i}(BaseComponent);flexbe_cli.components.classes.form=t}();
function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}!function(){var e=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var l=t.prototype;return l.customSelect=function(){var e=this;this.$form.find(".dropdown-container").remove();this.$form.find("select.atom-custom-select").each(function(t,l){function o(e,t){if(!e.hasClass("optgroup")&&e[0]){e.closest("ul");var l=m.find(".dropdown-select");e.siblings("li").removeClass("selected"),e.addClass("selected"),c.val(e.attr("data-value")),l.children(".selected").html(e.text()),t&&s()}}function n(){var e=y.children(".option-e"),t=e.height(),l=y.height(),o=t*(e.index($(".selected",y))+1);if(l>t*d)return!1;y.scrollTop()<o-l?y.animate({scrollTop:o-l},100):y.scrollTop()>o-t&&y.animate({scrollTop:o-t},100)}function s(){g=!1,w.removeClass("active"),a.removeClass("active"),clearTimeout(v)}function r(){var e=m.hasClass("active");w.off("click.selectli").on("click.selectli",".dropdown-select-ul li",function(e){o($(e.currentTarget),!0)}),w.off("mousewheel.selectUl").on("mousewheel.selectUl",".dropdown-select-ul",function(e){var t=e.currentTarget.scrollHeight,l=e.currentTarget.clientHeight;return!(e.currentTarget.scrollTop===t-l&&event.deltaY>0||0===e.currentTarget.scrollTop&&event.deltaY<0)}),$("body").append(w),g=!0,clearTimeout(v),y.css({left:m.offset().left+"px",top:m.offset().top+"px",width:m.width()+"px"}),w.toggleClass("active",!e),a.toggleClass("active",!e),e||a.siblings('[data-type="select"]').removeClass("active").find(".dropdown-container").removeClass("active"),n()}var c=$(l),i=c.children("optgroup"),a=c.closest('[data-type="select"]'),d=c.children("option").length,u=e.$form.hasClass("style-underlined")?"sharp":"",f="",p="",v=!1,h=!1,g=!1;i.length&&i.each(function(e,t){var l=$(t),o=l.attr("label");p+='<li class="optgroup">'+o+"</li>",l.children("option").each(function(e,t){var l=$(t),o=l.attr("value").replace(/"/g,"&quot;"),n=l.text()||"—";"selected"===l.attr("selected")?(f=n,p+='<li class="selected" data-value="'+o+'">'+n+"</li>"):p+='<li data-value="'+o+'">'+n+"</li>"})}),c.children("option").each(function(e,t){var l=$(t),o=l.val().replace(/"/g,"&quot;"),n=l.text()||"—";"selected"===l.attr("selected")?(f=n,p+='<li class="option-e selected" data-value="'+o+'"><span class="option-inner">'+n+"</span></li>"):p+='<li class="option-e" data-value="'+o+'"><span class="option-inner">'+n+"</span></li>"});var m=$('\n                    <div class="dropdown-container">\n                        <div tabindex="0" class="dropdown-select">\n                            <span class="selected">'+f+'</span>\n                            <span class="arrow">\n                                <svg viewBox="0 0 10 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                    <path fill="currentColor" d="M 1.4 6.99441e-15L 0 1.34043L 5 6L 10 1.34043L 8.6 0L 5 3.34998L 1.4 6.99441e-15Z"/>\n                                </svg>\n                            </span>\n                        </div>\n                    </div>\n                '),w=$('\n                    <div class="atom-select size--medium">\n                        <div class="overlay"></div>\n                        <ul class="dropdown-select-ul '+u+'">'+p+"</ul>\n                    </div>\n                "),y=$(".dropdown-select-ul",w);c.after(m),flexbe_cli.run.is_screen_tablet||flexbe_cli.run.is_screen_pc||!flexbe_cli.adaptive?(w.off("click.closeSelect").on("click.closeSelect",".overlay",function(e){s(),document.elementFromPoint(e.clientX,e.clientY).focus()}),m.off("click.selectdd").on("click.selectdd",".dropdown-select",function(){r()}),m.off("focus.selectfocus").on("focus.selectfocus",".dropdown-select",function(){h=!0}),m.off("blur.selectblur").on("blur.selectblur",".dropdown-select",function(){h=!1,v=setTimeout(function(){s()},200)}),m.off("keydown.selectkeydown").on("keydown.selectkeydown",".dropdown-select",function(e){if(h&&38===e.keyCode||40===e.keyCode||13===e.keyCode||27===e.keyCode||32===e.keyCode){e.preventDefault();var t=y.find(".option-e.selected");40===e.keyCode?(o(t.next(),!1),n()):38===e.keyCode?(o(t.prev(),!1),n()):13!==e.keyCode&&32!==e.keyCode&&27!==e.keyCode||(g?s():27!==e.keyCode&&r())}})):c.off("change.selectdd").on("change.selectdd",function(e){var t=e.target.value;m.find(".dropdown-select").children(".selected").html(t)})})},l.textResize=function(){this.$form.find(".autosize").each(function(e,t){var l=t.offsetHeight-t.clientHeight,o=$(t);o.removeAttr("data-autoresize"),o.off("keyup input").on("keyup input",function(e){var o=t.clientHeight;e.currentTarget.style.height="auto";var n=e.currentTarget.scrollHeight+l;e.currentTarget.value?(e.currentTarget.style.height=o+"px",$(e.currentTarget).css({height:n+"px"}),n>parseInt($(e.currentTarget).css("max-height"),10)?$(e.currentTarget).addClass("scrollable"):$(e.currentTarget).removeClass("scrollable")):e.currentTarget.style.height="auto"})})},l.fileInput=function(){this.$form.on("change"+this.eventId,".file-input--original",function(e){var t=$(e.currentTarget),l=t.parents(".file-input-outer"),o=t.val(),n=e.currentTarget.files.length;if(l.addClass("active"),t.parents(".form-field").removeClass("is_error"),1===n&&l.find(".file-item--title").text(o),n>1){var s,r=n%100,c=n%10,i=Math.floor(r/10);s=1===c&&11!==r?"form.filesMult":c>1&&c<5&&1!==i?"form.filesMult1":"form.filesMult2",l.find(".file-item--title").text(n+" "+flexbe_cli.lang.get(s))}0===n&&l.removeClass("active")}),this.$form.on("click"+this.eventId,".clear-files",function(e){var t=$(e.currentTarget).parents(".file-input-outer");t.find(".file-input--original").val(""),t.removeClass("active")})},t}(flexbe_cli.components.classes.form);flexbe_cli.components.classes.form=e}();
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}!function(){var e=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];t=e.call.apply(e,[this].concat(s))||this;var n=s[0].core;return t.is="quiz",t.id=n.id,t.eventId="."+n.id,t.$quiz=null,t.current=0,t.total=0,t.hidePrevOnFirstStep=!!t.$component.data("hide-prev-on-firt"),t.textLoader=t.$component.data("text-loader"),t.outerModalId=4===flexbe_cli.theme_id&&"modal"===n.is&&n.id,t.swiper=[],t.createQuiz(n.$area),t}_inheritsLoose(t,e);var i=t.prototype;return i.onView=function(e){if(!e.state||this.isViewed||this.isBesided)return!1;this.init()},i.onBeside=function(e){if(!e.state||this.isViewed||this.isBesided)return!1;this.init()},i.onOpen=function(){this.inited&&this.toStep(1)},i.onInit=function(){this.$masked=this.$form.find("[data-mask]"),this.require=[],!flexbe_cli.is_admin&&this.$masked.length&&(this.needInitMasks=!0,this.require.push("/_s/lib/imask/imask.min.js")),flexbe_cli.run.is_screen_all_mobile&&(this.needInitSwiper=this.$component.find(".form-field-image-group").length,this.needInitSwiper&&this.require.push("/_s/lib/swiper/swiper.v4.js"))},i.onLoad=function(){(this.isViewed||this.isBesided)&&(this.needInitSwiper&&this.initSwiper(this.current),this.needInitMasks&&this.inputMask()),this.isLoaded=!0},i.createQuiz=function(e){this.$area=e,this.$container=e.find(".quiz-container"),this.$quiz=e.find(".component-quiz"),this.$form=this.$quiz.find("form"),this.$steps=this.$quiz.find(".quiz-steps"),this.$stepsWrapper=this.$quiz.find(".steps-wrapper"),this.$progress=this.$quiz.find('[data-quiz-part="progress"]'),this.$progress[0]||(this.$progress=e.find('[data-quiz-part="progress"]')),this.hasWelcome=!!parseInt(this.$quiz.attr("data-welcome"),10),this.current=parseInt(this.$quiz.attr("data-active-step"),10)||0,this.total=parseInt(this.$quiz.attr("data-total-steps"),10)},i.init=function(){if(!this.inited){this.inited=!0,this.bindEvents(),this.customize(),this.control();var e=this.hasWelcome&&!this.outerModalId?0:1;this.toStep(this.$area.data("quiz-step")||e,!0)}},i.bindEvents=function(){var e=this;flexbe_cli.events.off("quiz_command").on("quiz_command",function(e,t){var i;flexbe_cli.components.instances[t.id]&&flexbe_cli.components.instances[t.id].forEach(function(e){"quiz"===e.is&&(i=e)}),i&&("start"===t.command?i.toStep(1):"step"===t.command&&i.toStep(t.step))}),this.$form.off(this.eventId),this.$form.on("input"+this.eventId+" change"+this.eventId,"input, textarea",function(e){var t=e.currentTarget,i=t.value,s=$(t);s.attr("value",i),s.closest(".field").removeClass("is_error")}),this.$form.on("submit"+this.eventId,function(){return!(e.busy||flexbe_cli.is_admin||e.current<=e.total)&&(e.busy=!0,flexbe_cli.stat.u_id&&e.addFields([{name:"f_uid",type:"hidden",value:flexbe_cli.stat.u_id}],!1),e.addFields([{name:"jsform",type:"hidden",value:parseInt(448312,10)}],!1),"undefined"!=typeof FormData?(e.sendFormdata(),!1):!(e.$form.find('input[type="file"]').length<1)||(e.sendAjax(),!1))})},i.control=function(){var e=this;flexbe_cli.is_admin||($("body").off("keydown"+this.eventId).on("keydown"+this.eventId,function(t){if([9,13].includes(t.keyCode)){var i=flexbe_cli.block.hasOverlay||[],s=e.outerModalId&&"modal"===i[i.length-1],a=!e.outerModalId&&!i.length,n=e.inFocus&&(a||s),r=9===t.keyCode,o=13===t.keyCode,l=t.metaKey||t.ctrlKey,c=t.shiftKey;if(n&&(o||r)&&("TEXTAREA"!==t.target.tagName||!o||l))return c&&r?e.current>1&&e.toStep(e.current-1):e.current<=e.total&&e.toStep(e.current+1),t.preventDefault(),!1}}),this.$quiz.off("click.control").on("click.control","[data-quiz-action]",function(t){var i=$(t.currentTarget).data("quizAction"),s=e.current;"wellcome"===i?s=1:"next"===i?s+=1:"prev"===i?s-=1:"send"===i&&(s=e.total+1),e.toStep(s)}))},i.setProgress=function(){var e=this.$progress.find(".progress-loader-bar .current"),t=this.current,i=this.total,s=parseInt(100*t/i,10),a=e.data("unit");if(e.length&&a){var n=s+"%";"step"===a?n=t+" / "+i:"none"===a&&(n=""),e.attr("data-value",n)}this.$progress.attr("data-current",t>0?t:0),this.$progress.attr("data-current-progress",t>0?s:0),this.$progress.find(".progress-text .current").text(t),this.$progress.find(".progress-percent .current").text(s),this.$progress.find(".progress-loader-bar .current").css("width",s+"%"),this.$progress.find(".progress-loader-circle .current").attr("stroke-dashoffset",""+Math.abs(100-s))},i.toStep=function(e,t){var i=this;flexbe_cli.is_admin&&e>this.total&&(e=this.total);var s=this.hasWelcome&&e<=0,a=this.hasWelcome&&!this.outerModalId?0:1;if(void 0===e||e<a)e=a;else{if(!flexbe_cli.is_admin&&e>this.current&&!this.validateStep())return!1;if(e>this.total)return this.current=e,this.$form.submit(),!0}if(t&&this.$area.addClass("noanimate"),this.current=e,this.$area.data("quiz-step",e),this.$quiz.attr("data-active-step",e),this.$container.attr("data-active-step",e),this.$container.toggleClass("quiz-state-wellcome",s),this.$container.toggleClass("quiz-state-started",!s),this.setProgress(),s){if(this.outerModalId)flexbe_cli.modal.close(this.outerModalId);else if(this.$container.length){var n=this.$container.find('[data-quiz-part="'+(s?"wellcome":"done")+'"]').outerHeight()||0;this.$container.css("minHeight",n),this.$stepsWrapper.css("minHeight",""),flexbe_cli.run.is_ie&&flexbe_cli.block.fixCoverHeight(this.$area)}}else{var r=this.$steps.find('[data-step-id="'+e+'"]'),o=r.outerHeight(),l=!!r.find(".form-field-text-input").length;if(r.prevAll().removeClass("active next").addClass("prev"),r.nextAll().removeClass("active prev").addClass("next"),r.removeClass("next prev").addClass("active"),!flexbe_cli.is_admin&&!t){var c=r.find(".form-field-text input, .form-field-text textarea, .dropdown-select");c.length&&(c.focus(),setTimeout(function(){c.focus()},150))}if(this.$container.css("minHeight",o+"px"),this.$stepsWrapper.css("minHeight",o+"px"),flexbe_cli.run.is_ie&&this.$area.find(".cover").css("height","auto"),2===flexbe_cli.theme_id&&flexbe_cli.block.headers){this.$area.find(".b_head").length&&flexbe_cli.block.headers.setHeaders()}setTimeout(function(){if(i.initSwiper(e),i.initSwiper(e+1),flexbe_cli.is_admin||flexbe_cli.run.is_mobile&&l||!i.alreadyStepped&&!i.hasWelcome)i.hasWelcome||(i.alreadyStepped=!0);else{i.alreadyStepped=!0;!i.$area[0]._core||i.outerModalId||t||flexbe_cli.block.scrollTo(i.$area,!0,!0)}},350)}return t&&setTimeout(function(){i.$area.removeClass("noanimate")},150),flexbe_cli.events.emit("quiz_event",{event:"to_step",sender:"core",quiz:this}),!0},i.validateStep=function(e){var t=this;e||(e=this.current);var i=!0;return this.$steps.find('[data-step-id="'+e+'"]').find("[data-type]").each(function(e,s){var a=$(s);a.removeClass("is_error");var n=t.checkField(a);n&&(a.outerWidth(),a.addClass("is_error"),a.find(".error").text(n),a.find("input, textarea").focus(),i=!1)}),i},i.checkField=function(e){var t,i=e.find("input, textarea, select").not('[type="hidden"]'),s=i[0],a=e[0],n=a.getAttribute("data-type"),r=[!0,1,"true","1"].includes(a.getAttribute("data-is-required")),o=s.getAttribute("data-check")||!1,l=s._mask&&s.getAttribute("data-mask")||!1;t=["checkbox","radio","image"].indexOf(n)>=0?!!i.closest(":checked").length:"file"===n?s.files:s.value;var c=!(!r||t)&&"form.required";if(l){!r&&!t||s.getAttribute("data-mask-complete")||(c="phone"===n&&t?"form.phone":"form.required")}else if(o)if(t.length&&"email"===n){/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Zа-яёА-ЯЁ\-0-9]+\.)+[a-zA-Zа-яёА-ЯЁ]{2,}))$/.test(t)||(c="form.email")}else if(t.length&&"phone"==n)if(/[^0-9+\(\)\-\s]/.test(t))c="form.digits";else{t.replace(/[^0-9]/g,"").length<5&&(c="form.minlength")}else"file"==n&&(c=!(!r||t.length)&&"form.required");return c=c&&flexbe_cli.lang.get(c)||!1},i.customize=function(){this.customImageSelect(),this.customSelect(),this.customTextarea(),this.customFile(),this.needInitMasks&&this.isLoaded&&this.inputMask()},i.customImageSelect=function(){this.$quiz.find(".form-field-image-item").on("click",function(e){var t=$(e.currentTarget).find("input");t[0].checked=!t[0].checked})},i.customFile=function(){this.$quiz.on("change",".file-input",function(e){var t=$(e.currentTarget),i=t.parents(".form-field-file"),s=i.find(".form-field-file-files"),a=t.val(),n=e.currentTarget.files.length;if(i.addClass("active"),t.parents(".field").removeClass("is_error"),0===n)i.removeClass("active");else if(1===n)s.find(".text").text(a);else if(n>1){var r,o=n%10;r=1===o&&11!==n%100?"form.filesMult":o>1&&o<5?"form.filesMult1":"form.filesMult2",s.find(".text").text(n+" "+flexbe_cli.lang.get(r))}}),this.$quiz.off("click.clear-files").on("click.clear-files",".clear-files",function(e){var t=$(e.currentTarget).parents(".form-field-file");t.find(".file-input").val(""),t.removeClass("active")})},i.customSelect=function(){var e=this;this.$quiz.find(".dropdown-container").remove();this.$quiz.find("select").each(function(t,i){var s=$(i),a=s.children("optgroup"),n=s.closest('[data-type="select"]'),r="",o="";a.length&&a.each(function(e,t){var i=$(t),s=i.attr("label");o+='<li class="optgroup">'+s+"</li>",i.children("option").each(function(e,t){var i=$(t),s=i.attr("value").replace(/"/g,"&quot;"),a=i.text()||"—";"selected"===i.attr("selected")?(r=a,o+='<li class="selected" data-value="'+s+'">'+a+"</li>"):o+='<li data-value="'+s+'">'+a+"</li>"})}),s.children("option").each(function(e,t){var i=$(t),s=i.val().replace(/"/g,"&quot;"),a=i.text()||"—";"selected"===i.attr("selected")?(r=a,o+='<li class="selected" data-value="'+s+'">'+a+"</li>"):o+='<li data-value="'+s+'">'+a+"</li>"});var l=$('<div class="dropdown-container">\n                    <div class="dropdown-select">\n                        <span>'+r+'</span>\n                        <i></i>\n                    </div>\n                    <ul class="dropdown-select-ul">'+o+"</ul>\n                </div>"),c=l.find(".dropdown-select-ul");s.after(l),l.off("click.selectdd").on("click.selectdd",".dropdown-select",function(){var t=e.$quiz.closest(".b_block"),i=t[0]._core,s=t.outerHeight()-60,a=c.outerHeight(),r=Math.min(s,a),o=l.offset().top,d=i.tween.end-30;o+r>d&&c.css({top:d-(o+r)+"px",maxHeight:r+"px"}),setTimeout(function(){var e=!l.hasClass("active");l.toggleClass("active",e),n.toggleClass("active",e),e&&$("body").on("click.quiz-select-element",function(e){$(e.target).is(l)||$(e.target).closest(l).length||(l.removeClass("active"),n.removeClass("active"),$("body").off("click.quiz-select-element"))})},50)}),l.off("click.selectli").on("click.selectli",".dropdown-select-ul li",function(e){var t=$(e.currentTarget);if(!t.hasClass("optgroup")){var i=t.closest("ul").siblings(".dropdown-select");l.removeClass("active"),n.removeClass("active"),t.siblings("li").removeClass("selected"),t.addClass("selected"),s.val(t.attr("data-value")),i.children("span").html(t.text())}})})},i.customTextarea=function(){this.$quiz.find("textarea.autosize").each(function(e,t){var i=t.offsetHeight-t.clientHeight,s=$(t);s.removeAttr("data-autoresize"),s.off("keyup input").on("keyup input",function(e){e.currentTarget.style.height="auto",e.currentTarget.style.height=e.currentTarget.scrollHeight+i+"px"})})},i.sendFormdata=function(){var e=this,t=new FormData(this.$form.get(0));if(t.append("is_ajax","true"),"undefined"!=typeof flexbeAPI&&void 0!==flexbeAPI.customLeadData&&t.append("customLeadData",JSON.stringify(flexbeAPI.customLeadData)),t.append("f_ab",JSON.stringify(flexbe_cli.stat.AB.getcookie())),flexbe_cli.run.is_OSX&&"function"==typeof t.entries){var i=t.entries(),s=Array.isArray(i),a=0;for(i=s?i:i[Symbol.iterator]();;){var n;if(s){if(a>=i.length)break;n=i[a++]}else{if((a=i.next()).done)break;n=a.value}var r=n,o=r[0],l=r[1];"object"===_typeof(l)&&l instanceof File&&0===l.size&&t.delete(o)}}this.$component.addClass("submitting"),this.$form.addClass("submitting"),$.ajax({url:this.$form.attr("action"),type:"POST",dataType:"json",processData:!1,contentType:!1,data:t,xhr:function(){var e=$.ajaxSettings.xhr();return e.upload,e}}).done(function(t){e.$component.addClass("success"),e.$component.removeClass("submitting"),e.$form.removeClass("submitting"),t.send_formdata=!0,void 0!==t.pay&&(e.pay=t.pay),e.afterSend(),setTimeout(function(){e.$component.removeClass("success")},1e3)}).fail(function(){e.$component.removeClass("submitting success"),e.$form.removeClass("submitting"),e.busy=!1})},i.sendAjax=function(){var e=this;this.$form.addClass("submitting");var t=this.$form.serialize();$.ajax({url:this.$form.attr("action"),type:"POST",dataType:"json",data:t+"&is_ajax=true"}).done(function(t){e.$form.removeClass("submitting"),t.send_ajax=!0,void 0!==t.pay&&(e.pay=t.pay),e.afterSend()}).fail(function(){e.$form.removeClass("submitting")})},i.afterSend=function(){var e=this,t=this.$form.find('input[name="action"]').val();flexbe_cli.stat.reach_goal("order_done");try{var i=this.$form.find('input[name="goal"]').val();void 0!==i&&""!==i&&flexbe_cli.stat.reach_goal(i)}catch(e){}try{var s=this.$form.find('textarea[name="goal_html"]').val();if("string"==typeof s&&s.trim()){var a=document.write;document.write=function(e){$("body").eq(0).append(e)},$("body").eq(0).append('<div style="display:none">'+s+"</div>"),setTimeout(function(){document.write=a},1e4)}}catch(e){}if("pay"===t&&void 0!==this.pay&&null!==this.pay&&this.pay.pay_link.length>0){var n=window.location.origin+window.location.pathname+(window.location.search?window.location.search+"&":"?")+"pay_id="+this.pay.pay_id+"&h="+this.pay.pay_hash;try{window.history.pushState(null,null,n),setTimeout(function(){flexbe_cli.events.emit("pay",{action:"init"})},200)}catch(e){setTimeout(function(){document.location=n},500)}}else if("redirect"===t){var r=this.$form.find('input[name="action_redirect"]').val();r.length>0&&setTimeout(function(){document.location=r},500)}else{var o=this.$component.find(".quiz-submit").attr("data-modal-id");if(!flexbe_cli.modal.find(o)){var l=String(this.ownerId);o=(l&&l.split("_")[0])+"_"+o}flexbe_cli.modal.find(o)?flexbe_cli.events.emit("modal_command",{command:"open",id:o}):console.warn("Modal open error:","There is no window attached to the form.",o)}setTimeout(function(){e.busy=!1,e.resetForm(),e.toStep(0)},1e3)},i.resetForm=function(){this.$form.get(0).reset(),this.$form.find(".form-field-file, .file-input-outer").removeClass("active");this.$form.find(".step-fields input:not(:hidden)").each(function(e,t){t.value=null,t.checked=!1,t.removeAttribute("value"),t.removeAttribute("checked"),t.removeAttribute("data-mask-complete"),t._mask&&t._mask.updateValue()})},i.addFields=function(e,t){void 0===t&&(t=!0);var i=this.$quiz.find(".form-fields-advanced");e.length&&i[0]&&(t&&i.empty(),e.forEach(function(e){i.find('input[name="'+e.name+'"]').remove();var t=$("<input>").attr("type",e.type).attr("name",e.name).attr("value",e.value);i.append(t)}))},i.initSwiper=function(e){if(!flexbe_cli.run.is_screen_all_mobile||!this.isLoaded)return!1;var t=this.$component.find('[data-step-id="'+e+'"] .quiz-slider-outer');t.length&&!this.swiper[e]&&(this.swiper[e]=new Swiper(t.eq(0),{init:!1,speed:450,slidesPerView:"auto",freeMode:!0,spaceBetween:0,slideToClickedSlide:!0,threshold:10,autoHeight:!1,preventClicks:!0,touchMoveStopPropagation:!1,preventClicksPropagation:!0,preventInteractionOnTransition:!0,wrapperClass:"form-field-image-group",slideClass:"form-field-image-item",noSwipingClass:"redactor-box"}),this.swiper[e].init())},i.inputMask=function(){return"undefined"!=typeof IMask&&(this.needInitMasks=!1,this.$masked.each(function(e,t){flexbe_cli.components.classes.form.initMask(t)}),!0)},t}(BaseComponent);flexbe_cli.components.classes.quiz=e}();
function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}!function(){var e=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var s=t.prototype;return s.toStep=function(t,s){e.prototype.toStep.call(this,t,s);var l=this.$component.find(".quiz-actions"),o=!this.hasWelcome&&1===this.current,n=this.current>=this.total;l.toggleClass("first-step",o),l.toggleClass("last-step",n)},s.setProgress=function(){var e=this.$progress.find(".progress-loader-bar .current"),t=e.attr("data-unit"),s=this.current||1,l=this.total,o="step"===this.$component.data("text-loader")?s:s-1,n=Math.max(0,parseInt(100*o/l,10));if(this.$progress.attr("data-current",o>0?o:0),this.$progress.attr("data-current-progress",n>0?n:0),e&&t){var r=e.find(".progress-runner"),i=n+"%";"step"===t?i=s+" / "+l:"none"===t&&(i=""),r.attr("data-value",i)}this.$progress.find(".progress-text .current").text(s),this.$progress.find(".progress-percent .current").text(n),this.$progress.find(".progress-loader-bar .current").css("width",n+"%"),this.$progress.find(".progress-loader-circle .current").attr("stroke-dashoffset",""+Math.abs(100-n))},s.customSelect=function(){var e=this;this.$form.find(".dropdown-container").remove();this.$form.find("select.atom-custom-select").each(function(t,s){function l(e,t){if(!e.hasClass("optgroup")&&e[0]){e.closest("ul");var s=m.find(".dropdown-select");e.siblings("li").removeClass("selected"),e.addClass("selected"),i.val(e.attr("data-value")),s.children(".selected").html(e.text()),t&&n()}}function o(){var e=x.children(".option-e"),t=e.height(),s=x.height(),l=t*(e.index($(".selected",x))+1);if(s>t*d)return!1;x.scrollTop()<l-s?x.animate({scrollTop:l-s},100):x.scrollTop()>l-t&&x.animate({scrollTop:l-t},100)}function n(){g=!1,flexbe_cli.block.removeOverlay("customSelect"),w.removeClass("active"),a.removeClass("active"),clearTimeout(v),w.remove()}function r(){g=!0,flexbe_cli.block.pushOverlay("customSelect");var e=m.hasClass("active");w.off("click.selectli").on("click.selectli",".dropdown-select-ul li",function(e){l($(e.currentTarget),!0)}),w.off("mousewheel.selectUl").on("mousewheel.selectUl",".dropdown-select-ul",function(e){var t=e.currentTarget.scrollHeight,s=e.currentTarget.clientHeight;return!(e.currentTarget.scrollTop===t-s&&event.deltaY>0||0===e.currentTarget.scrollTop&&event.deltaY<0)}),$("body").append(w),clearTimeout(v),x.css({left:m.offset().left+"px",top:m.offset().top+"px",width:m.width()+"px"}),w.toggleClass("active",!e),a.toggleClass("active",!e),e||a.siblings('[data-type="select"]').removeClass("active").find(".dropdown-container").removeClass("active"),o()}var i=$(s),c=i.children("optgroup"),a=i.closest('[data-type="select"]'),d=i.children("option").length,f=e.$form.hasClass("style-underlined")?"sharp":"",u="",p="",v=!1,h=!1,g=!1;c.length&&c.each(function(e,t){var s=$(t),l=s.attr("label");p+='<li class="optgroup">'+l+"</li>",s.children("option").each(function(e,t){var s=$(t),l=s.attr("value").replace(/"/g,"&quot;"),o=s.text()||"—";"selected"===s.attr("selected")?(u=o,p+='<li class="selected" data-value="'+l+'">'+o+"</li>"):p+='<li data-value="'+l+'">'+o+"</li>"})}),i.children("option").each(function(e,t){var s=$(t),l=s.val().replace(/"/g,"&quot;"),o=s.text()||"—";"selected"===s.attr("selected")?(u=o,p+='<li class="option-e selected" data-value="'+l+'"><span class="option-inner">'+o+"</span></li>"):p+='<li class="option-e" data-value="'+l+'"><span class="option-inner">'+o+"</span></li>"});var m=$('\n                    <div class="dropdown-container">\n                        <div tabindex="0" class="dropdown-select">\n                            <span class="selected">'+u+'</span>\n                            <span class="arrow">\n                                <svg viewBox="0 0 10 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                    <path fill="currentColor" d="M 1.4 6.99441e-15L 0 1.34043L 5 6L 10 1.34043L 8.6 0L 5 3.34998L 1.4 6.99441e-15Z"/>\n                                </svg>\n                            </span>\n                        </div>\n                    </div>\n                '),w=$('\n                    <div class="atom-select size--large">\n                        <div class="overlay"></div>\n                        <ul class="dropdown-select-ul '+f+'">'+p+"</ul>\n                    </div>\n                "),x=$(".dropdown-select-ul",w);i.after(m),flexbe_cli.run.is_screen_tablet||flexbe_cli.run.is_screen_pc||!flexbe_cli.adaptive?(w.off("click.closeSelect").on("click.closeSelect",".overlay",function(e){n(),document.elementFromPoint(e.clientX,e.clientY).focus()}),m.off("click.selectdd").on("click.selectdd",".dropdown-select",r),m.off("focus.selectfocus").on("focus.selectfocus",".dropdown-select",function(){h=!0}),m.off("blur.selectblur").on("blur.selectblur",".dropdown-select",function(){h=!1,v=setTimeout(function(){n()},200)}),m.off("keydown.selectkeydown").on("keydown.selectkeydown",".dropdown-select",function(e){if(h&&[13,27,32,38,40].includes(e.keyCode)){e.preventDefault();var t=x.find(".option-e.selected");if(40===e.keyCode)l(t.next(),!1),o();else if(38===e.keyCode)l(t.prev(),!1),o();else if(g||32!==e.keyCode){if(g&&[13,27,32].includes(e.keyCode))return n(),!1}else r()}})):i.off("change.selectdd").on("change.selectdd",function(e){var t=e.target.value;m.find(".dropdown-select").children(".selected").html(t)})})},s.customFile=function(){this.$form.on("change.file"+this.eventId,".file-input--original",function(e){var t=$(e.currentTarget),s=t.parents(".file-input-outer"),l=t.val(),o=e.currentTarget.files.length;if(s.addClass("active"),t.closest("[data-type]").removeClass("is_error"),1===o&&s.find(".file-item--title").text(l),o>1){var n,r=o%10;n=1===r&&11!==o%100?"form.filesMult":r>1&&r<5?"form.filesMult1":"form.filesMult2",s.find(".file-item--title").text(o+" "+flexbe_cli.lang.get(n))}0===o&&s.removeClass("active")}),this.$form.on("click"+this.eventId,".clear-files",function(e){var t=$(e.currentTarget).parents(".file-input-outer");t.find(".file-input--original").val(""),t.removeClass("active")})},t}(flexbe_cli.components.classes.quiz);flexbe_cli.components.classes.quiz=e}();
function _inheritsLoose(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}!function(){var o=function(o){function e(){for(var e,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return e=o.call.apply(o,[this].concat(t))||this,e.is="menu",e.isOpen=!1,e.isRestored=!0,e.eventId=e.owner._core.id,e.isRowDirection="row"===e.$component.attr("data-direction"),e.isRowDirection&&(e.$menuList=e.$component.find(".component-menu-list"),e.$componentCopy=e.$component.clone(),e.restoreMenuItems()),e}_inheritsLoose(e,o);var n=e.prototype;return n.onInit=function(){var o=this;this.bindEvents(),this.createListDropdown(),this.$button=this.$component.find(".show-more"),this.$header=this.$button.closest(".floating-header"),this.$header.length&&this.$header.off("transform-header").on("transform-header",function(){o.$dropdown&&o.$dropdown.length&&o.toggleDropdown(!1)})},n.onResize=function(o){var e=o.params;if(!this.isRowDirection||["bottom","top"].includes(e.type))return!1;this.createListDropdown(),this.isOpen&&this.setDropdownPosition()},n.bindEvents=function(){var o=this;flexbe_cli.run.is_desktop&&!flexbe_cli.is_admin&&this.$component.off("mouseenter.core mouseleave.core").on("mouseenter.core mouseleave.core",".menu-item",function(e){o.$component.toggleClass("in-hover"),$(e.currentTarget).toggleClass("hover")}),this.isRowDirection&&(this.$component.off("click.core").on("click.core",".show-more",function(){return o.toggleDropdown(),!1}),$(window).off("resized.dropdown."+this.eventId).on("resized.dropdown."+this.eventId,function(){o.createListDropdown(),o.isOpen&&o.setDropdownPosition()}))},n.createListDropdown=function(){if(this.restoreMenuItems(),this.isRowDirection&&!flexbe_cli.run.is_screen_all_mobile){var o=this.$menuList.parent().innerWidth();if(o>=this.initialMenuWidth)return!1;this.isRestored=!1;var e=this.$componentCopy.clone(),n=e.find("li").toArray(),t=42,i=0;e.appendTo("body").css({position:"absolute",top:0,left:0,opacity:0}),n.some(function(e,n){if(i=n,t+=$(e).outerWidth(!0),o<t)return!0}),this.$menuList.empty(),this.$menuList.append(n.splice(0,i)),this.$menuList.append('\n                <li class=\'show-more\'>\n                    <svg width="18" height="4" viewBox="0 0 18 4" xmlns="http://www.w3.org/2000/svg">\n                        <path transform="rotate(-90 2 2)" fill="currentcolor" fill-rule="evenodd" d="M4 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm0 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm-2 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/>\n                    </svg>\n                    <ul class=\'component-menu-dropdown-list\'></ul>\n                </li>\n            '),this.$menuList.find(".component-menu-dropdown-list").append(n),e.remove()}},n.restoreMenuItems=function(){if(this.isRowDirection){if(!this.isRestored&&this.$componentCopy){var o=this.$componentCopy.find(".component-menu-list").clone();this.$menuList.html(o.html()),this.isRestored=!0}this.$menuList.css({position:"fixed",top:"-9999px",left:"-9999px"}),this.initialMenuWidth=this.$menuList.innerWidth(),this.$menuList.css({position:"",top:"",left:""})}},n.toggleDropdown=function(o){var e=this;if(void 0===o&&(o=!this.isOpen),$("body").off("click.menu-dropdown-"+this.eventId+" keydown.menu-dropdown-"+this.eventId),this.$dropdown&&this.$dropdown.length&&this.$dropdown.remove(),!o)return this.isOpen=!1,!1;this.isOpen=!0;var n=this.$component.find(".component-menu-dropdown-list").clone();this.$dropdown=$("\n                <div class='component-menu-dropdown'>\n                    <span class='component-menu-dropdown-arrow'></span>\n                </div>\n            "),this.$dropdown.append(n).appendTo("body"),this.setDropdownPosition(),flexbe_cli.is_admin||$("body").on("click.menu-dropdown-"+this.eventId+" keydown.menu-dropdown-"+this.eventId,function(o){var n="keydown"===o.type&&27===o.keyCode,t="click"===o.type&&$(o.target).closest(".element-item").data("id")!==+e.eventId;(n||t)&&e.toggleDropdown(!1)})},n.setDropdownPosition=function(){var o,e=this.$dropdown,n=e.find(".component-menu-dropdown-arrow"),t=this.$component.find(".show-more"),i=t.innerWidth(),s=t.offset(),r=s.top,d=s.left,p=e.find(".component-menu-dropdown-list").innerWidth();d+p>window.innerWidth?(o=d+i-p,n.addClass("behind-screen")):(o=d+i/2-p/2,n.removeClass("behind-screen"));var c={position:"absolute",width:p,top:r+25,left:o};this.$header.length&&this.$header.hasClass("fixed-header")&&(c.position="fixed",c.top=t[0].offsetTop+t[0].clientHeight+15+"px"),e.css(c)},e}(BaseComponent);flexbe_cli.components.classes.menu=o}();
function _extends(){return(_extends=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}function _inheritsLoose(e,i){e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i}!function(){var e=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];var a=i=e.call.apply(e,[this].concat(s))||this,o=a.component,r=a.$component,l=o.getAttribute("data-mode");return i.is="cards",i.mode=l,"slider"===l&&(i.require=["/_s/lib/swiper/swiper.v4.js"],i.$slider=r.find(".flexbe-cards-slider"),i.$pagination=r.find(".slider-pagination--cards"),i.$navigation=r.find(".slider-button--cards")),i}_inheritsLoose(i,e);var t=i.prototype;return t.onLoad=function(){"slider"===this.mode&&this.initSlider()},t.onView=function(e){var i=this,t=e.state;this.toggleSwiperAutoplay(t),this.toggleSwiperIteract(!t),t&&(this.iteractTimeout=setTimeout(function(){i.toggleSwiperIteract(!0)},1e4))},t.initSlider=function(){if("slider"===this.mode)try{this.createSwiperSettings(),this.createSwiperInstance(),this.createSwiperNavigation(),this.createSwiperPagination(),this.createSwiperEditorFixes(),this.swiper.init(),this.toggleSwiperAutoplay(this.isViewed)}catch(e){console.log(e)}},t.createSwiperSettings=function(){var e=this,i=flexbe_cli.run.is_screen_all_mobile,t=+this.$slider.attr("data-count"),s=+this.$slider.attr("data-cards"),n=+this.$slider.attr("data-cards-mobile")||1,a=i?t<=n:t<=s,o=0;flexbe_cli.is_admin&&(o=Math.floor($(this.root).data("slide-move"))||0,o=Math.max(0,Math.min(t-1,o)));var r=!flexbe_cli.is_admin&&Math.floor(1e3*+this.$slider.attr("data-autoplay"))||0,l=this.$pagination.attr("data-type")||!1,d=!flexbe_cli.is_admin&&+this.$slider.attr("data-loop")||0;a&&d&&(d=!1),this.totalSlides=t,this.settings={speed:Math.min(800,300*s),threshold:10,autoHeight:!1,preloadImages:!1,preventClicks:!1,touchStartPreventDefault:!1,touchMoveStopPropagation:!1,preventClicksPropagation:!1,preventInteractionOnTransition:!0,touchReleaseOnEdges:!0,a11y:!1,lazy:!1,slidesPerView:s,slidesPerGroup:1,simulateTouch:!flexbe_cli.is_admin,centerInsufficientSlides:!0,initialSlide:o,loop:d,autoplay:r&&{delay:r,stopOnLastSlide:!!d,disableOnInteraction:!0}||!1,navigation:{},pagination:{clickable:!1,type:l,el:this.$pagination[0],renderBullet:function(){return""},formatFractionCurrent:function(){return e.getGroupIndex()+1},formatFractionTotal:function(){return Math.ceil(e.totalSlides/e.swiper.params.slidesPerView)}},breakpoints:{768:{slidesPerView:n,slidesPerGroup:1,speed:400}}}},t.createSwiperInstance=function(){var e=this;void 0!==this.swiper&&this.swiper.destroy();var i,t=!1,s=new Swiper(this.$slider[0],_extends({init:!1,wrapperClass:"flexbe-cards",slideClass:"flexbe-card",noSwipingClass:"redactor-box"},this.settings)),n=function(){var n=e.totalSlides>s.params.slidesPerView;t||(t=!0,e.$component.addClass("slider-inited"),e.$slider.addClass("swiper-inited")),i!==n&&(i=n,e.$component.toggleClass("slider-active",n),e.$slider.toggleClass("swiper-active",n),s.update())};s.once("init",function(){n(),function(){if(s.loopedSlides){var i=$(s.slides).filter("."+s.params.slideDuplicateClass);flexbe_cli.element.init(i),flexbe_cli.components.initComponents({core:e.core})}}()}),s.on("resize",$.debounce(function(){n()},50)),s.on("sliderMove",function(){e.toggleSwiperIteract(!0)}),this.swiper=s},t.createSwiperNavigation=function(){var e=this,i=this.swiper,t=function(){var t=i.isBeginning,s=i.isEnd,n=i.params.navigation.disabledClass,a=e.$navigation,o=a.eq(0),r=a.eq(1);i.loopedSlides&&(t=!1,s=!1),a.toggleClass("disabled",e.totalSlides<=i.params.slidesPerView),o.toggleClass(n,t),r.toggleClass(n,s)};this.swiper.once("init",function(){t()}),this.swiper.on("resize",$.debounce(function(){t()},50)),this.swiper.on("slideChange",function(){e.skipSlide||t()}),this.$navigation.on("click",function(i){var t=i.currentTarget.getAttribute("data-direction");e["prev"===t?"prevSlide":"nextSlide"]()})},t.createSwiperPagination=function(){var e=this,i=this.swiper,t=i.params;i.on("paginationRender",function(){if("bullets"===t.pagination.type)if(i.loopedSlides)e.loopPagination=new flexbe_cli.components.classes.bulletsLoopPagination(e.$pagination[0],{init:!1,tag:"span",onClick:function(i){i<0?e.prevSlide():i>0&&e.nextSlide()}});else{var s=t.pagination.bulletElement||"span",n=t.pagination.bulletClass||"span",a=t.slidesPerView||1,o=Math.ceil(e.totalSlides/a),r=new Array(o).fill();r=r.map(function(e,i){return"<"+s+' class="'+n+'" data-index="'+i+'"></'+s+">"}).join(""),e.$pagination.html(r),e.bulletsPagination=new flexbe_cli.components.classes.bulletsPagination(e.$pagination[0],{init:!1,targets:"span",active:i.realIndex,onClick:function(i,t){t!==i&&e.toSlide(i)}})}e.$pagination.toggleClass("disabled",e.totalSlides<=i.params.slidesPerView)}),i.on("paginationUpdate",function(){if(!e.skipSlide)if(e.bulletsPagination){var t=e.getGroupIndex(i.realIndex);e.bulletsPagination.setActive(t)}else if(e.loopPagination){var s=i.previousIndex,n=i.activeIndex,a=e.totalSlides,o=s<n?"next":"prev";!(s===n||"next"===o&&s===n-a||"prev"===o&&s===n+a)&&e.loopPagination.setActive(o)}})},t.createSwiperEditorFixes=function(){function e(){var e=$(t.slides),i=e.slice(t.activeIndex,t.activeIndex+t.params.slidesPerView);e.not(i).removeClass("swiper-slide-visible").addClass("swiper-slide-hidden"),i.removeClass("swiper-slide-hidden").addClass("swiper-slide-visible")}var i=this;if(flexbe_cli.is_admin){var t=this.swiper;t.on("init slideChange",function(){e()}),t.on("slideChange",function(){$(i.root).data("slide-move",t.realIndex)}),t.on("transitionStart touchStart",function(){i.$component.addClass("slider-in-animation")}),t.on("transitionEnd touchEnd",function(){i.$component.removeClass("slider-in-animation")}),this.swiper.on("resize",$.debounce(function(){e()},50))}},t.getGroupIndex=function(e,i,t){void 0===t&&(t=!0);var s=this.swiper;void 0==e&&(e=s.realIndex),i||(i=s.params.slidesPerView||1),t&&(s.loopedSlides||i<=1)&&(t=!1);var n=Math.ceil(this.totalSlides/i),a=Math.floor(e/i);if(t){var o=a*i,r=e-o>o+i-1-e,l=e%i!=0&&e+i>=this.totalSlides;(r||l)&&(a+=1)}return Math.max(0,Math.min(n,a))},t.getSlideIndex=function(e,i){i||(i=this.swiper.params.slidesPerView||1);return e*i},t.toSlide=function(e,i){var t=this.swiper,s=this.getSlideIndex(e,i);return t.loopedSlides?t.slideToLoop(s):t.slideTo(s)},t.prevSlide=function(e){var i,t=this,s=this.swiper,n=s.params.slidesPerView;if(e||(e=n),e=Math.abs(e),s.loopedSlides){if(s.activeIndex<e){var a=s.activeIndex+this.totalSlides;this.skipSlide=!0,s.slideTo(a,0)}i=s.activeIndex-e}else{var o=this.getGroupIndex()-Math.ceil(e/n);i=this.getSlideIndex(o)}setTimeout(function(){t.skipSlide=!1,s.slideTo(i)},1)},t.nextSlide=function(e){var i,t=this,s=this.swiper;e||(e=s.params.slidesPerView);var n=s.params.slidesPerView,a=s.activeIndex,o=a+n-1;if(s.loopedSlides){if(s.slides.length-1-o<e){var r=a-this.totalSlides;this.skipSlide=!0,s.slideTo(r,0)}i=s.activeIndex+e}else{var l=this.getGroupIndex()+Math.ceil(e/n);i=this.getSlideIndex(l)}setTimeout(function(){t.skipSlide=!1,s.slideTo(i)},1)},t.toggleSwiperAutoplay=function(e){var i=this.swiper,t=i&&i.autoplay,s=i&&i.params.autoplay||{};t&&s.enabled&&(e&&!t.running?t.start():e||t.stop())},t.toggleSwiperIteract=function(e){this.swiper&&this.$slider&&(this.$component.toggleClass("slider-iteracted",e),this.$slider.toggleClass("swiper-iteracted",e),clearTimeout(this.iteractTimeout))},i}(BaseComponent);flexbe_cli.components.classes.cards=e}();
flexbe_cli.init=function(){flexbe_cli.run.init(),flexbe_cli.header.init(),flexbe_cli.events.init(),flexbe_cli.lib.init(),flexbe_cli.lang.init(),flexbe_cli.stat.init(),flexbe_cli.scroll.init(),flexbe_cli.resize.init(),flexbe_cli.components.init(),flexbe_cli.block.init(),flexbe_cli.modal.init(),flexbe_cli.widget.init(),flexbe_cli.element.init()},flexbe_cli._init();